{"version":3,"sources":["components/pages/typeText/TypeText.js","components/errorMessage/error.gif","components/errorMessage/ErrorMessage.js","components/errorBoundary/ErrorBoundary.js","assets/img/earth/hologram/hologram-map.svg","assets/img/earth/hologram/hologram-shine.svg","assets/js/components/startEarth.js","components/earth/EarthBlock.js","components/pages/MainPage.js","components/pages/404.js","components/app/App.js","index.js"],"names":["TypeText","className","onInit","typewriter","typeString","pasteString","pauseFor","start","ErrorMessage","style","display","width","height","objectFit","margin","src","img","alt","ErrorBoundary","state","error","errorInfo","console","log","this","setState","props","children","Component","startEarth","Earth","element","options","document","getElementById","isSupported","legacySupportIE11","classList","add","fallback","querySelector","cssAdded","css","addCss","meshesAdded","markerObj","addMesh","earth","defaults","isEarth","quality","getQuality","location","lat","lng","mapLandColor","mapSeaColor","mapBorderColor","mapBorderWidth","mapStyles","mapSvg","mapImage","draggable","grabCursor","dragMomentum","dragDamping","dragPolarLimit","polarLimit","autoRotate","autoRotateSpeed","autoRotateSpeedUp","autoRotateDelay","autoRotateStart","autoRotateEasing","zoom","zoomable","zoomMin","zoomMax","zoomSpeed","light","lightAmbience","lightIntensity","lightColor","lightGroundColor","sunLocation","sunDirection","shadows","shininess","transparent","innerOpacity","innerColor","paused","showHotspots","mapHitTest","Object","assign","animations","overlays","occludables","ready","deltaTime","goAnimation","zoomAnimation","dragging","autoRotating","autoRotateTime","mouseOver","mouseOverEarth","mouseOverObject","docMousePosition","lastDocMousePosition","mousePosition","lastMousePosition","lastMouseTime","mouseVelocity","THREE","momentum","elementSize","elementCenter","bounds","left","top","bottom","right","radius","init","ClassicEventDispatcher","prototype","addEventListener","type","listener","undefined","_listeners","listeners","indexOf","push","hasEventListener","removeEventListener","listenerArray","index","splice","dispatchEvent","event","target","array","slice","i","l","length","call","clock","raycaster","scene","camera","position","z","camDistance","renderer","alpha","antialias","preserveDrawingBuffer","shadowMap","enabled","setPixelRatio","window","devicePixelRatio","canvas","domElement","appendChild","capabilitiesChecked","checkCapabilities","sphere","earthRadius","visible","renderOrder","receiveShadow","castShadow","innerSphere","loadTexture","ambientLight","primaryLight","shadow","mapSize","shadowSize","far","bias","dragStartMousePosition","lastTouchStart","ignoreClicks","clickHandler","touchEndClick","touches","x","changedTouches","clientX","y","clientY","distanceTo","maxClickDistance","mouse","normalizeMouse","intersects","raycast","intersect_sphere","object","uv","material","map","transformUv","mouseEvent","uvToLatLng","originalEvent","id","hitTestMap","userData","marker","hotspot","isSprite","occluded","hasEvent","stopImmediatePropagation","preventDefault","bind","getEventPosition","body","orbit","Orbit","documentElement","stop","getRadius","copy","set","remove","setTimeout","update","defineProperties","get","worldToLatLng","v","latlng","formatLatLng","Math","min","maxLat","max","minLat","setPosition","latLngToWorld","resetAutoRotate","removeHitTester","enableRotate","cancel","minPolarAngle","PI","maxPolarAngle","normalize","multiplyScalar","enableZoom","maxDistance","minDistance","intensity","color","getHexString","isHemisphereLight","groundColor","isDirectionalLight","parent","offsetWidth","updateAutoRotate","t","lerp","Animation","Easing","startAutoRotate","easeIn","updateMomentum","equals","zeroMomentum","abs","updatePointerVelocity","moveVelocity","clone","sub","max_velocity_x","max_velocity_y","updatePointer","overObject","obj","hitTest","latLngToUv","hitTester","createElement","innerHTML","String","replace","svgElement","rect","getBoundingClientRect","elem","elementFromPoint","dataset","setFromCamera","normalizeRaycast","intersectObjects","redrawMap","updateMap","mapTexture","needsUpdate","mapImageIsSvg","url","toLowerCase","useMapSvg","isDefaultMap","svg","mapImageElem","setAttribute","btoa","unescape","encodeURIComponent","onload","drawTexture","isIE11","fallbackMapUrlIE11","thisEarth","ajax","XMLHttpRequest","onreadystatechange","readyState","fixSvgNamespace","responseText","open","send","mapCanvas","mapContext","clearRect","textureSize","getContext","drawImage","context","wrapS","anisotropy","offset","earthMaterial","dithering","depthWrite","opacity","side","updateBounds","outOfView","innerWidth","innerHeight","isVisible","containerScale","aspect","updateProjectionMatrix","setSize","requestAnimationFrame","getDelta","updateAnimations","render","updateOccludables","updateOverlays","addMarker","Marker","addImage","Image","addSprite","Sprite","addPoints","Points","addLine","Line","addOverlay","Overlay","updateOrder","overlay","updatePositions","elementPosition","updateOcclusion","scale","depthScale","distance","zoomScale","scaleTransform","transform","sort","a","b","zIndex","occlude","occludable","complete_animations","ani","removed","time","p","duration","step","loop","oscillate","current","to","from","dispatchEvents","goTo","approachAngle","toPos","camPos","radToDeg","angleTo","midPos","lerpVectors","_end","lerpLatLng","animate","getPoint","worldPos","worldToElement","getLocation","point","pow","defaultImage","spriteHotspot","invisibleMaterial","hotspotMaterial","wireframe","up","back","zero","meshes","textures","Number","hash","str","charCodeAt","getTexture","resolution","alphaOnly","key","ratio","naturalHeight","naturalWidth","w","h","round","ctx","globalAlpha","fillStyle","fillRect","globalCompositeOperation","maxTex","capabilities","maxTextureSize","maxAni","getMaxAnisotropy","dispatchLoadEvent","CustomEvent","loadedEvent","createEvent","initCustomEvent","styleElement","styleSheet","cssText","createTextNode","getElementsByTagName","objString","ObjParser","parse","traverse","child","name","split","flatShading","dispose","geometry","destroy","forceContextLoss","supportIE11","WebGLRenderingContext","e","MSInputMethodContext","documentMode","getPathPoints","fromPos","subdevisions","offsetFlow","offsetEasing","points","subdividePath","new_points","fromPoint","toPoint","mouseCenterOffset","relMouse","normalizeElement","v2","phi","degToRad","theta","setFromSphericalCoords","pos","s","setFromVector3","loc","wrapLatLng","wrap","wrapLngForLerp","fromLng","toLng","project","getLineDistance","lerpAngle","fromA","toA","fullA","val","range","getDistance","degLat","degLng","sin","cos","atan2","sqrt","getAngle","types","initOptions","isMarker","mesh","color2","color3","color4","color5","color6","color7","color8","scaleX","scaleY","scaleZ","hotspotRadius","hotspotHeight","align","rotationX","rotationY","rotationZ","lookAt","lookAngle","createObject","addMeshes","updateScale","object3d","hotspotGeometry","rotateX","translate","meshClone","sharedObjectProperties","stopAllAnimations","objIndex","reverse_scale","getQuaternion","qt","setFromRotationMatrix","multiply","setFromAxisAngle","fixLookAngle","center","anchorX","anchorY","getLocalAngle","setRotationFromQuaternion","lookP","distP","distM","prevDist","startAngle","angle","testPoint","rotP","applyQuaternion","distanceToSquared","rotM","isImage","image","imageResolution","imageAlphaOnly","createImage","alphaTest","sprite","rotation","createSprite","depthTest","isPoints","clip","createPoints","thisPoints","sortOnce","vector","matrix","multiplyMatrices","projectionMatrix","matrixWorldInverse","matrixWorld","getIndex","positions","getAttribute","Uint16Array","setIndex","sortArray","fromArray","applyMatrix4","indices","removeEvents","createPointsMaterial","uniforms","ucolor","value","ualpha","usize","pointTexture","vertexShader","join","fragmentShader","data_pos","data_scale","data_color","data_opacity","c","r","g","isLine","locations","hairline","endWidth","dashed","dashSize","dashRatio","dashOffset","alwaysBehind","alwaysOnTop","lineLength","meshLine","MeshLine","lineGeometry","MeshLineMat","updatePoints","lineWidth","updateGeometry","updateDash","gapSize","updateClip","ceil","pop","concat","setFromPoints","vertices","thisLine","setGeometry","setDrawRange","Infinity","computeLineDistances","useDash","dashArray","isOverlay","content","div","firstChild","removeChild","Occludable","world_pos","dispatchComplete","jumpToEnd","aniIndex","end","complete","asin","Animatable","colorProp","latlngProp","angleProp","prop","relativeDuration","easing","stop_animations","scope","STATE","NONE","changeEvent","onMouseUp","quat","setFromUnitVectors","quatInverse","invert","lastPosition","lastQuaternion","spherical","rotateLeft","rotateUp","sphericalDelta","makeSafe","setFromSpherical","zoomChanged","EPS","dot","quaternion","onMouseDown","onMouseWheel","onTouchStart","onTouchEnd","onTouchMove","onMouseMove","startEvent","endEvent","ROTATE","TOUCHZOOM","rotateStart","rotateEnd","rotateDelta","dollyStart","dollyEnd","dollyDelta","getZoomScale","dollyIn","dollyScale","handleMouseDownRotate","handleMouseMoveRotate","earthRadiusPx","speed","subVectors","handleMouseWheel","deltaY","button","LEFT","stopPropagation","dx","pageX","dy","pageY","handleTouchStartDollyPan","handleTouchMoveDollyPan","previous","next","indices_array","uvs","counters","widthCallback","j","Float32Array","Array","process","compareV3","aa","ab","copyV3","n","attributes","parameters","check","d","useMap","alphaMap","useAlphaMap","sizeAttenuation","near","visibility","repeat","setValues","create","constructor","object_pattern","ParserState","objects","normals","startObject","fromDeclaration","previousMaterial","currentMaterial","_finalize","materials","smooth","lastMultiMaterial","groupEnd","groupCount","groupStart","inherited","mi","declared","finalize","parseVertexIndex","len","parseInt","parseNormalIndex","addVertex","dst","addNormal","addFace","ua","ub","uc","na","nb","nc","vLen","ia","ib","ic","nLen","OBJLoader","manager","text","lines","line","lineFirstChar","result","trimLeft","trim","charAt","data","parseFloat","vertexData","substr","faceVertices","jl","vertex","vertexParts","v1","v3","exec","container","buffergeometry","computeVertexNormals","sprites","getRandomInt","floor","random","pulse","random_location","connections","earh_svg","shine_svg","EarthBlock","MainPage","Button","href","variant","Page404","App","path","ReactDOM","StrictMode"],"mappings":"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nT,KAAM,KAAMse,MAAO/kB,KAAK4Z,YACtCqU,gBAAiB,CAAExnB,KAAM,IAAKse,MAAO/kB,KAAKiuB,iBAC1CC,KAAM,CAAEznB,KAAM,IAAKse,MAAO/kB,KAAKkuB,MAC/BlkB,IAAK,CAAEvD,KAAM,IAAKse,MAAO/kB,KAAKgK,KAC9B6d,UAAW,CAAEphB,KAAM,IAAKse,MAAO/kB,KAAK6nB,WACpCzB,WAAY,CAAE3f,KAAM,IAAKse,MAAO/kB,KAAKomB,YACrCD,UAAW,CAAE1f,KAAM,IAAKse,MAAO/kB,KAAKmmB,WACpCyB,QAAS,CAAEnhB,KAAM,IAAKse,MAAO/kB,KAAK4nB,SAClCuG,WAAY,CAAC1nB,KAAM,IAAKse,MAAO/kB,KAAKmuB,YACpCjL,UAAW,CAACzc,KAAM,IAAKse,MAAO/kB,KAAKkjB,WACnCkL,OAAQ,CAAE3nB,KAAM,KAAMse,MAAO/kB,KAAKouB,SAEnCjJ,aAtKwB,CAC1B,yBACA,GACA,2BACA,2BACA,uBACA,wBACA,yBACA,qBACA,4BACA,GACA,iCACA,gCACA,2BACA,2BACA,sBACA,yBACA,sBACA,qBACA,iCACA,GACA,oBACA,uBACA,2BACA,GACA,qCACA,GACA,6BACA,uBACA,2BACA,kBACA,GACA,IACA,GACA,gBACA,GACA,kDACA,2EACA,GACA,uCACA,gBACA,GACA,mDACA,sDACA,gDACA,4CACA,GACA,oDACA,2CACA,2CACA,GACA,2DACA,sDACA,GACA,oCACA,uCACA,QACA,GACA,gBACA,mEACA,wEACA,aACA,qDACA,qDACA,0CACA,GACA,+CACA,8CACA,6EACA,GACA,QACA,GACA,2EACA,2CACA,0BACA,wBACA,GACA,qDACA,qCACA,GACA,mCACA,GACA,KAoFmCC,KAAM,QACvCC,eAnF0B,CAC1B,kDACF,2BACA,GACA,yBACA,8BACA,wBACA,6BACA,yBACA,2BACA,4BACA,2BACA,4BACA,2BACA,uBACA,GACA,oBACA,uBACA,2BACA,GACA,gBACA,GACA,uBACA,8DACA,4EACA,qCACA,2BACA,yFACA,QACA,wBACA,qDACA,KAoDuCD,KAAM,UAO5C,OAJA9Z,EAAS7E,KAAO,mBAEhB6E,EAAS+iB,UAAWV,GAEbriB,GAIRhL,EAAMqmB,YAAYpgB,UAAYjC,OAAOgqB,OAAQ3oB,WAAeY,WAC5DjG,EAAMqmB,YAAYpgB,UAAUgoB,YAAcjuB,EAAMqmB,YAQhDrmB,EAAMob,UAAc,WAGnB,IAAI8S,EAAiB,gBAErB,SAASC,IAER,IAAI9uB,EAAQ,CACX+uB,QAAS,GACTtjB,OAAQ,GAERkc,SAAU,GACVqH,QAAS,GAETC,YAAa,SAAW9S,EAAM+S,GAE7B,GAAK7uB,KAAKoL,SAA0C,IAAhCpL,KAAKoL,OAAOyjB,gBAG/B,OAFA7uB,KAAKoL,OAAO0Q,KAAOA,OACnB9b,KAAKoL,OAAOyjB,iBAAwC,IAApBA,GAIjC,IAAIC,EAAqB9uB,KAAKoL,QAAiD,oBAAhCpL,KAAKoL,OAAO2jB,gBAAiC/uB,KAAKoL,OAAO2jB,uBAAoBpoB,EA0D5H,GAxDK3G,KAAKoL,QAA2C,oBAA1BpL,KAAKoL,OAAO4jB,WACtChvB,KAAKoL,OAAO4jB,WAAW,GAGxBhvB,KAAKoL,OAAS,CACb0Q,KAAMA,GAAQ,GACd+S,iBAAuC,IAApBA,EAEnB3S,SAAU,CACToL,SAAU,GACVqH,QAAS,IAEVM,UAAW,GACXC,QAAQ,EAERH,gBAAiB,WAChB,GAAK/uB,KAAKivB,UAAUrnB,OAAS,EAC5B,OAAO5H,KAAKivB,UAAWjvB,KAAKivB,UAAUrnB,OAAS,IAKjDonB,UAAW,SAAWxG,GAErB,IAAI2G,EAAoBnvB,KAAK+uB,kBAU7B,GATKI,IAAsD,IAAjCA,EAAkBC,WAE3CD,EAAkBC,SAAWpvB,KAAKkc,SAASoL,SAAS1f,OAAS,EAC7DunB,EAAkBE,WAAaF,EAAkBC,SAAWD,EAAkBG,WAC9EH,EAAkBI,WAAY,GAK1B/G,GAAOxoB,KAAKivB,UAAUrnB,OAAS,EACnC,IAAM,IAAI4nB,EAAKxvB,KAAKivB,UAAUrnB,OAAS,EAAG4nB,GAAM,EAAGA,IAC7CxvB,KAAKivB,UAAWO,GAAKH,YAAc,GACvCrvB,KAAKivB,UAAU7nB,OAAQooB,EAAI,GAa9B,OAPKhH,GAAiC,IAA1BxoB,KAAKivB,UAAUrnB,QAC1B5H,KAAKivB,UAAUloB,KAAM,CACpB+U,KAAM,GACNoT,OAAQlvB,KAAKkvB,SAIRC,IAMJL,GAAoBA,EAAiBhT,MAA0C,oBAA3BgT,EAAiB7e,MAAuB,CAChG,IAAIwf,EAAWX,EAAiB7e,MAAO,GACvCwf,EAASF,WAAY,EACrBvvB,KAAKoL,OAAO6jB,UAAUloB,KAAM0oB,GAG7BzvB,KAAK0uB,QAAQ3nB,KAAM/G,KAAKoL,SAIzBskB,SAAU,WACJ1vB,KAAKoL,QAA2C,oBAA1BpL,KAAKoL,OAAO4jB,WACtChvB,KAAKoL,OAAO4jB,WAAW,IAIzBW,iBAAkB,SAAW5K,EAAO6K,GACnC,IAAIzoB,EAAQ0oB,SAAU9K,EAAO,IAC7B,OAAsD,GAA7C5d,GAAS,EAAIA,EAAQ,EAAIA,EAAQyoB,EAAM,IAGjDE,iBAAkB,SAAW/K,EAAO6K,GACnC,IAAIzoB,EAAQ0oB,SAAU9K,EAAO,IAC7B,OAAsD,GAA7C5d,GAAS,EAAIA,EAAQ,EAAIA,EAAQyoB,EAAM,IAGjDG,UAAW,SAAWrZ,EAAGC,EAAG+O,GAC3B,IAAInmB,EAAMS,KAAKsnB,SACX0I,EAAMhwB,KAAKoL,OAAO8Q,SAASoL,SAE/B0I,EAAIjpB,KAAMxH,EAAKmX,EAAI,GAAKnX,EAAKmX,EAAI,GAAKnX,EAAKmX,EAAI,IAC/CsZ,EAAIjpB,KAAMxH,EAAKoX,EAAI,GAAKpX,EAAKoX,EAAI,GAAKpX,EAAKoX,EAAI,IAC/CqZ,EAAIjpB,KAAMxH,EAAKmmB,EAAI,GAAKnmB,EAAKmmB,EAAI,GAAKnmB,EAAKmmB,EAAI,KAGhDuK,UAAW,SAAWvZ,EAAGC,EAAG+O,GAC3B,IAAInmB,EAAMS,KAAK2uB,QACXqB,EAAMhwB,KAAKoL,OAAO8Q,SAASyS,QAE/BqB,EAAIjpB,KAAMxH,EAAKmX,EAAI,GAAKnX,EAAKmX,EAAI,GAAKnX,EAAKmX,EAAI,IAC/CsZ,EAAIjpB,KAAMxH,EAAKoX,EAAI,GAAKpX,EAAKoX,EAAI,GAAKpX,EAAKoX,EAAI,IAC/CqZ,EAAIjpB,KAAMxH,EAAKmmB,EAAI,GAAKnmB,EAAKmmB,EAAI,GAAKnmB,EAAKmmB,EAAI,KAGhDwK,QAAS,SAAWxZ,EAAGC,EAAG+O,EAAGyK,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,GAChD,IAAIC,EAAOzwB,KAAKsnB,SAAS1f,OAErB8oB,EAAK1wB,KAAK2vB,iBAAkBjZ,EAAG+Z,GAC/BE,EAAK3wB,KAAK2vB,iBAAkBhZ,EAAG8Z,GAC/BG,EAAK5wB,KAAK2vB,iBAAkBjK,EAAG+K,GAKnC,GAHAzwB,KAAK+vB,UAAWW,EAAIC,EAAIC,QAGZjqB,IAAP2pB,GAA2B,KAAPA,EAAY,CAGpC,IAAIO,EAAO7wB,KAAK2uB,QAAQ/mB,OACxB8oB,EAAK1wB,KAAK8vB,iBAAkBQ,EAAIO,GAEhCF,EAAKL,IAAOC,EAAKG,EAAK1wB,KAAK8vB,iBAAkBS,EAAIM,GACjDD,EAAKN,IAAOE,EAAKE,EAAK1wB,KAAK8vB,iBAAkBU,EAAIK,GAEjD7wB,KAAKiwB,UAAWS,EAAIC,EAAIC,MAS3B,OAFAjxB,EAAMivB,YAAa,IAAI,GAEhBjvB,EAMR,SAASmxB,EAAWC,GAEnB/wB,KAAK+wB,aAAwBpqB,IAAZoqB,EAA0BA,EAAUprB,wBACrD3F,KAAKivB,UAAY,KAyKlB,OArKA6B,EAAUvqB,UAAY,CAErBgoB,YAAauC,EAEbnV,MAAO,SAAWqV,GAEjB,IAAIrxB,EAAQ,IAAI8uB,GAEkB,IAA7BuC,EAAKlqB,QAAS,UAElBkqB,EAAOA,EAAKlgB,QAAS,QAAS,QAGG,IAA7BkgB,EAAKlqB,QAAS,UAElBkqB,EAAOA,EAAKlgB,QAAS,QAAS,KAW/B,IARA,IAAImgB,EAAQD,EAAKjV,MAAO,MACpBmV,EAAO,GAAIC,EAAgB,GAE3BC,EAAS,GAGTC,EAAoC,mBAAhB,GAAGA,SAEjB3pB,EAAI,EAAGC,EAAIspB,EAAMrpB,OAAQF,EAAIC,EAAGD,IAMzC,GAJAwpB,EAAOD,EAAOvpB,GAIM,KAHpBwpB,EAAOG,EAAWH,EAAKG,WAAaH,EAAKI,QACvB1pB,QAOK,OAHvBupB,EAAgBD,EAAKK,OAAQ,IAK7B,GAAuB,MAAlBJ,EAAwB,CAE5B,IAAIK,EAAON,EAAKnV,MAAO,OAEvB,OAASyV,EAAM,IAEd,IAAK,IACJ7xB,EAAM2nB,SAASvgB,KACd0qB,WAAYD,EAAM,IAClBC,WAAYD,EAAM,IAClBC,WAAYD,EAAM,KAEnB,MAED,IAAK,KACJ7xB,EAAMgvB,QAAQ5nB,KACb0qB,WAAYD,EAAM,IAClBC,WAAYD,EAAM,IAClBC,WAAYD,EAAM,WAMf,GAAuB,MAAlBL,EAAwB,CAQnC,IANA,IACIO,EADWR,EAAKS,OAAQ,GAAIL,OACNvV,MAAO,OAC7B6V,EAAe,GAIT3E,EAAI,EAAG4E,EAAKH,EAAW9pB,OAAQqlB,EAAI4E,EAAI5E,IAAO,CACvD,IAAI6E,EAASJ,EAAYzE,GAEzB,GAAK6E,EAAOlqB,OAAS,EAAI,CACxB,IAAImqB,EAAcD,EAAO/V,MAAO,KAChC6V,EAAa7qB,KAAMgrB,IAMrB,IAAIC,EAAKJ,EAAc,GAEvB,IAAU3E,EAAI,EAAG4E,EAAKD,EAAahqB,OAAS,EAAGqlB,EAAI4E,EAAI5E,IAAO,CAC7D,IAAI1P,EAAKqU,EAAc3E,GACnBgF,EAAKL,EAAc3E,EAAI,GAE3BttB,EAAMuwB,QACL8B,EAAI,GAAKzU,EAAI,GAAK0U,EAAI,GACtBD,EAAI,GAAKzU,EAAI,GAAK0U,EAAI,GACtBD,EAAI,GAAKzU,EAAI,GAAK0U,EAAI,UAIlB,GAAkD,QAA3Cb,EAAS5C,EAAe0D,KAAMhB,IAAoB,CAG/D,IAAIpV,GAAS,IAAMsV,EAAQ,GAAIO,OAAQ,GAAIL,QAASK,OAAQ,GAC5DhyB,EAAMivB,YAAa9S,QAGb,GAAuB,MAAlBqV,EAAwB,CAKnC,IAHAC,EAASF,EAAKnV,MAAO,MAGTnU,OAAS,EAAI,CACxB,IAAImd,EAAQqM,EAAQ,GAAIE,OAAOxf,cAC/BnS,EAAMyL,OAAO8jB,OAAqB,MAAVnK,GAA2B,QAAVA,OAGzCplB,EAAMyL,OAAO8jB,QAAS,EAIvB,IAAI5jB,EAAW3L,EAAMyL,OAAO2jB,kBACvBzjB,IAAWA,EAAS4jB,OAASvvB,EAAMyL,OAAO8jB,aAK/C,GAAc,OAATgC,EAAgB,SAMvBvxB,EAAM+vB,WAEN,IAAIyC,EAAY,IAAIxsB,QAEpB,IAAU+B,EAAI,EAAGC,EAAIhI,EAAM+uB,QAAQ9mB,OAAQF,EAAIC,EAAGD,IAAO,CAExD,IAAI0D,EAASzL,EAAM+uB,QAAShnB,GACxBwU,EAAW9Q,EAAO8Q,SAGtB,GAAkC,IAA7BA,EAASoL,SAAS1f,OAAvB,CAEA,IAAIwqB,EAAiB,IAAIzsB,iBAEzBysB,EAAejgB,aAAc,WAAY,IAAIxM,yBAA8BuW,EAASoL,SAAU,IAEzFpL,EAASyS,QAAQ/mB,OAAS,EAC9BwqB,EAAejgB,aAAc,SAAU,IAAIxM,yBAA8BuW,EAASyS,QAAS,IAE3FyD,EAAeC,uBAMhB,IAAI7S,EAAO,IAAI7Z,OAAYysB,GAC3B5S,EAAK1D,KAAO1Q,EAAO0Q,KACnBqW,EAAUrxB,IAAK0e,IAIhB,OAAO2S,IAMFrB,EA1UY,GAoVQ,WAAvBrwB,SAASsS,WAEbtS,SAAS+F,iBAAkB,oBAAoB,WAC9ClG,EAAMya,uBAKP9N,YAAY,WACX3M,EAAMya,sBACJ,GAGAnS,OAAOpC,iBAAkB,eAAe,WAIpC,IACI8rB,EAAU,GA2Dd,SAASC,EAAa7kB,EAAKE,GAGvB,OAFAF,EAAMD,KAAKyZ,KAAKxZ,GAChBE,EAAMH,KAAK+kB,MAAM5kB,GACVH,KAAK+kB,MAAM/kB,KAAKglB,UAAY7kB,EAAMF,IAAQA,EAIrD,SAASglB,EAAOvrB,GACZ,IAAIwrB,EAAkBC,EAAaL,EAAa,EAAGK,EAAYhrB,OAAO,IACtE0qB,EAAQnrB,GAAOvF,SAAW,CAAEC,IAAK8wB,EAAgB,GAAK7wB,IAAK6wB,EAAgB,IAE3EL,EAAQnrB,GAAOmR,QAAS,QAAS,GAAK,CAAElB,SAAU,IAAKqR,SAAW,WAC9DzoB,KAAKsY,QAAS,QAAS,IAAM,CAAElB,SAAU,IAAKqR,SAAW,WACrDxb,YAAY,WAAYylB,EAAOvrB,KAAYorB,EAAa,IAAK,YAvEzE3pB,OAAOpC,iBAAkB,QAAQ,WAEnB,IAAIlG,EAAO,UAAW,CAE5BsB,SAAW,CAAEC,IAAK,GAAIC,IAAM,IAE5ByB,MAAO,OAEPlB,SAAUwwB,EACV7uB,aAAa,EAEbpB,YAAa,EACbC,gBAAiB,IACjBE,gBAAiB,IACjBC,gBAAiB,MAKbwD,iBAAkB,SAAS,WAE/BxG,KAAKyP,kBAIL,IAAIyhB,EAAO,CACPriB,MAAQ,UACRoF,QAAS,IACT8R,UAAU,EACVlS,QAAS,IAGb,IAAM,IAAInM,KAAKkrB,EACX1B,EAAKpL,UAAY,CAAE,CAAEjkB,IAAK+wB,EAAYlrB,GAAG,GAAI5F,IAAK8wB,EAAYlrB,GAAG,IAAM,CAAE7F,IAAK+wB,EAAYlrB,GAAG,GAAI5F,IAAK8wB,EAAYlrB,GAAG,KACrH1H,KAAK0V,QAASwb,GAOlB,IAAUxpB,EAAE,EAAGA,EAAI,EAAGA,IAClB4qB,EAAQ5qB,GAAK1H,KAAKsV,UAAW,CACzBwN,MAAOgQ,EACP3c,MAAO,IACPtC,QAAS,GACTI,QAAS,KAEbye,EAAOhrB,SAgCnB,IAAIkrB,EAAc,CACd,CAAC,gBAAgB,gBAAiB,WAAW,YAC7C,CAAC,gBAAgB,gBAAiB,SAAS,SAE3C,CAAC,mBAAmB,oBAAqB,aAAa,cACtD,CAAC,mBAAmB,mBAAoB,mBAAmB,mBAE3D,CAAC,kBAAkB,mBAAoB,cAAc,eACrD,CAAC,kBAAkB,kBAAmB,cAAc,eACpD,CAAC,kBAAkB,kBAAmB,WAAW,YAEjD,CAAC,mBAAmB,kBAAmB,kBAAkB,mBACzD,CAAC,mBAAmB,kBAAmB,mBAAmB,oBAC1D,CAAC,mBAAmB,kBAAmB,cAAc,eAErD,EAAE,cAAc,eAAgB,cAAc,eAE9C,EAAE,cAAc,cAAe,cAAc,eAE7C,CAAC,WAAW,WAAY,SAAS,SACjC,CAAC,WAAW,WAAY,WAAW,SAEnC,CAAC,SAAS,UAAW,mBAAmB,mBACxC,CAAC,SAAS,UAAW,aAAa,aAClC,CAAC,SAAS,WAAY,SAAS,WAE/B,EAAE,SAAS,WAAY,oBAAoB,mBAC3C,EAAE,SAAS,WAAY,SAAS,SAChC,EAAE,SAAS,WAAY,oBAAoB,eAE3C,EAAE,SAAS,SAAU,oBAAoB,mBACzC,EAAE,SAAS,SAAU,oBAAoB,eAEzC,CAAC,cAAc,cAAe,mBAAmB,oBACjD,CAAC,cAAc,cAAe,mBAAmB,oBACjD,CAAC,cAAc,cAAe,mBAAmB,oBAEjD,CAAC,UAAU,WAAY,mBAAmB,oBAC1C,CAAC,UAAU,WAAY,mBAAmB,oBAE1C,CAAC,aAAa,YAAa,aAAa,aACxC,CAAC,aAAa,YAAa,mBAAmB,mBAC9C,CAAC,aAAa,YAAa,cAAc,eAEzC,CAAC,aAAa,YAAa,mBAAmB,mBAC9C,CAAC,aAAa,YAAa,SAAS,SAEpC,CAAC,SAAS,QAAU,WAAW,SAE/B,CAAC,mBAAmB,mBAAoB,mBAAmB,oBAE3D,EAAE,kBAAkB,kBAAmB,cAAc,eACrD,EAAE,kBAAkB,kBAAmB,aAAa,cAEpD,CAAC,cAAc,cAAe,gBAAgB,iBAC9C,CAAC,cAAc,cAAe,WAAW,YACzC,CAAC,cAAc,cAAe,mBAAmB,oBACjD,CAAC,cAAc,cAAe,cAAc,mBCz6KxD,IAaeG,EAbG,WAOd,OAFA1yB,IAGI,mCACI,qBAAKuL,GAAG,eC+BLonB,EA/BE,WAEb,OACI,qCACI,sBAAKv0B,UAAU,cAAf,UACI,cAAC,EAAD,IACA,cAAC,EAAD,UACI,cAAC,EAAD,SAIR,sBAAKA,UAAU,UAAf,UACI,qBAAKA,UAAU,QAAf,SACI,cAACw0B,EAAA,EAAD,CAASC,KAAK,gCAAgCC,QAAQ,YAAYtkB,MAAM,UAAxE,uCAKJ,sBAAKpQ,UAAU,OAAf,UACI,wQACA,gGACA,qNACA,8N,QCrBL20B,EAVC,WACZ,OACI,gCACI,cAAC,EAAD,IACA,mBAAGn0B,MAAO,CAAC,UAAa,SAAU,WAAc,OAAQ,SAAY,QAApE,gCACA,cAAC,IAAD,CAAMA,MAAO,CAAC,QAAW,QAAS,UAAa,SAAU,WAAc,OAAQ,SAAY,OAAQ,UAAa,QAASwY,GAAG,IAA5H,mC,QCgBG4b,EAjBH,WAER,OACI,cAAC,IAAD,UACI,qBAAK50B,UAAU,MAAf,SAEI,+BACI,eAAC,IAAD,WACI,cAAC,IAAD,CAAO60B,KAAK,IAAI/yB,QAAS,cAAC,EAAD,MACzB,cAAC,IAAD,CAAO+yB,KAAK,IAAI/yB,QAAS,cAAC,EAAD,gB,MCNjDgzB,IAASxe,OACP,cAAC,IAAMye,WAAP,UACE,cAAC,EAAD,MAEF/yB,SAASC,eAAe,W","file":"static/js/main.5ef5a4b0.chunk.js","sourcesContent":["import Typewriter from 'typewriter-effect';\nimport './typeStyle.scss';\nconst TypeText =()=>{\n\n    return(\n        <>\n            <div className='typewriterBlock'>\n                <Typewriter\n                    onInit={(typewriter) => {\n                        typewriter\n                        // .pasteString('<br/>')\n                            .typeString('Intermodal')\n                            .pasteString('<br/>')\n                            .pauseFor(500)\n                            .typeString('OTR' )\n                            .pasteString('<br/>')\n                            .pauseFor(500)\n                            .typeString('Warehousing')\n                            .start();\n                    }}\n                />\n            </div>\n        </>\n    )\n};\nexport default TypeText;","export default __webpack_public_path__ + \"static/media/error.42292aa1.gif\";","import img from './error.gif';\n\nconst ErrorMessage = () => {\n    return (\n        <img style={{ display: 'block', width: \"250px\", height: \"250px\",objectFit: 'contain', margin: \"0 auto\"}}  src={img} alt=\"Error\"/>\n    )\n}\n\nexport default ErrorMessage;","import { Component } from \"react\";\nimport ErrorMessage from \"../errorMessage/ErrorMessage\";\n\nclass ErrorBoundary extends Component {\n    state = {\n        error: false\n    }\n\n    componentDidCatch(error, errorInfo) {\n        console.log(error, errorInfo);\n        this.setState({\n            error: true\n        })\n    }\n\n    render() {\n        if (this.state.error) {\n            return <ErrorMessage/>\n        }\n\n        return this.props.children;\n    }\n}\n\nexport default ErrorBoundary;","export default __webpack_public_path__ + \"static/media/hologram-map.6ef80d04.svg\";","export default __webpack_public_path__ + \"static/media/hologram-shine.7d5577c9.svg\";","// import { Earth } from \"./Miniature.Earth.js\";\n// import {Earth} from \"./miniature.earth.core.js\";\n// import {THREE} from './three.min.js'\nimport * as THREE from 'three';\nimport earh_svg from '../../img/earth/hologram/hologram-map.svg';\nimport shine_svg from '../../img/earth/hologram/hologram-shine.svg';\nexport function startEarth (){\n    // import {THREE} from './three.min.js';\n\n    function Earth( element, options ) {\n\t// THREE();\n\tif ( typeof element == \"string\" ) {\n\t\telement = document.getElementById( element );\n\t}\n\t\n\tif ( ! element ) {\n\t\treturn false;\n\t}\n\t\n\t\n\t// check webgl support\n\t\n\tif ( ! Earth.isSupported( options.legacySupportIE11 ) ) {\t\t\n\t\telement.classList.add( \"earth-show-fallback\" );\n\t\treturn false;\n\t}\n\t\n\t\n\t// remove fallback\n\t\n\tvar fallback = element.querySelector( \".earth-fallback\" );\n\tif ( fallback ) fallback.style.display = \"none\";\n\t\n\t\n\t// add required css styles\n\t\n\tif ( ! Earth.cssAdded && Earth.css ) {\n\t\tEarth.addCss();\t\t\n\t\tEarth.cssAdded = true;\n\t}\n\t\n\t\n\t// add default meshes\n\t\n\tif ( ! Earth.meshesAdded && Earth.markerObj ) {\n\t\tEarth.addMesh( Earth.markerObj );\n\t\tEarth.meshesAdded = true;\t\t\n\t}\n\t\n\t\n\t// add container css class if not present\n\t\n\telement.classList.add( \"earth-container\" );\n\n\t\n\t// reference to EarthInstance\n\telement.earth = this;\n\t\n\t// reference to dom element\n\tthis.element = element;\n\t\n\t\n\t// default options\n\t\n\tvar defaults = {\n\t\t\n\t\tisEarth : true,\n\t\tquality: this.getQuality(),\n\n\t\tlocation: { lat: 0, lng: 0 },\n\t\t\n\t\tmapLandColor : '#F4F4F4',\n\t\tmapSeaColor : '#0099FF',\n\t\tmapBorderColor : '',\n\t\tmapBorderWidth : 0.3,\n\t\tmapStyles : '',\n\t\t\n\t\tmapSvg : '',\n\t\tmapImage : '',\n\t\t\n\t\tdraggable : true,\n\t\tgrabCursor : true,\n\t\tdragMomentum : true,\n\t\tdragDamping : 0.7,\n\t\tdragPolarLimit : 0.3,\n\t\t\n\t\tpolarLimit : 0.3,\n\t\t\n\t\tautoRotate : false,\n\t\tautoRotateSpeed : 1,\n\t\tautoRotateSpeedUp : 0,\n\t\tautoRotateDelay : 1000,\n\t\tautoRotateStart : 1000,\n\t\tautoRotateEasing : 'in-quad',\n\t\t\n\t\tzoom: 1,\n\t\tzoomable : false,\n\t\tzoomMin: 0.5,\n\t\tzoomMax: 1.25,\n\t\tzoomSpeed : 1,\n\t\t\n\t\tlight: 'simple', // none, simple, sun\n\t\tlightAmbience: ( options.light == 'none' ) ? 1 : 0.5,\n\t\tlightIntensity: 0.5,\n\t\tlightColor: '#FFFFFF',\n\t\tlightGroundColor: '#999999',\n\t\tsunLocation : { lat: 0, lng: 0 },\n\t\tsunDirection : false,\n\t\tshadows: ( options.light == 'sun' ),\n\t\t\n\t\tshininess: 0.1,\n\t\ttransparent : false,\n\t\tinnerOpacity : 1,\n\t\tinnerColor : '#FFFFFF',\n\t\t\n\t\tpaused : false,\n\t\tshowHotspots : false,\n\t\tmapHitTest : false,\n\n\t};\n\t\n\tthis.options = Object.assign(defaults, options);\n\t\n\tthis.animations = [];\n\tthis.overlays = [];\n\tthis.occludables = [];\n\t\n\tthis.ready = false;\n\tthis.deltaTime = 0;\n\t\n\tthis.goAnimation = null;\n\tthis.zoomAnimation = null;\n\t\n\tthis.dragging = false;\n\t\n\tthis.autoRotating = false;\n\tthis.autoRotateTime = 0;\n\n\tthis.mouseOver = false;\n\tthis.mouseOverEarth = false;\n\tthis.mouseOverObject = null;\t\n\n\tthis.docMousePosition = false;\n\tthis.lastDocMousePosition = false;\n\tthis.mousePosition = false;\n\tthis.lastMousePosition = false;\n\tthis.lastMouseTime = 0;\n\tthis.mouseVelocity = new THREE.Vector2();\n\t\n\tthis.momentum = new THREE.Vector2();\n\t\n\tthis.elementSize = new THREE.Vector2();\n\tthis.elementCenter = new THREE.Vector2();\n\tthis.bounds = {\n\t\tleft: 0,\n\t\ttop: 0,\n\t\tbottom: 0,\n\t\tright: 0,\n\t\twidth: 1,\n\t\theight: 1\n\t};\n\tthis.radius = 0;\n\n\tthis.init();\n\t\n\treturn this;\n\t\n}\n\n\n\n\nEarth.ClassicEventDispatcher = function() {};\n\nObject.assign( Earth.ClassicEventDispatcher.prototype, {\n\n\taddEventListener: function ( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) this._listeners = {};\n\n\t\tconst listeners = this._listeners;\n\n\t\tif ( listeners[ type ] === undefined ) {\n\n\t\t\tlisteners[ type ] = [];\n\n\t\t}\n\n\t\tif ( listeners[ type ].indexOf( listener ) === - 1 ) {\n\n\t\t\tlisteners[ type ].push( listener );\n\n\t\t}\n\n\t},\n\n\thasEventListener: function ( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) return false;\n\n\t\tconst listeners = this._listeners;\n\n\t\treturn listeners[ type ] !== undefined && listeners[ type ].indexOf( listener ) !== - 1;\n\n\t},\n\n\tremoveEventListener: function ( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) return;\n\n\t\tconst listeners = this._listeners;\n\t\tconst listenerArray = listeners[ type ];\n\n\t\tif ( listenerArray !== undefined ) {\n\n\t\t\tconst index = listenerArray.indexOf( listener );\n\n\t\t\tif ( index !== - 1 ) {\n\n\t\t\t\tlistenerArray.splice( index, 1 );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tdispatchEvent: function ( event ) {\n\n\t\tif ( this._listeners === undefined ) return;\n\n\t\tconst listeners = this._listeners;\n\t\tconst listenerArray = listeners[ event.type ];\n\n\t\tif ( listenerArray !== undefined ) {\n\n\t\t\tevent.target = this;\n\n\t\t\t// Make a copy, in case listeners are removed while iterating.\n\t\t\tconst array = listenerArray.slice( 0 );\n\n\t\t\tfor ( let i = 0, l = array.length; i < l; i ++ ) {\n\n\t\t\t\tarray[ i ].call( this, event );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n} );\n\n\n\n\n\nObject.assign( Earth.prototype, Earth.ClassicEventDispatcher.prototype );\n\n\n// private\n\nEarth.prototype.init = function() {\n\t\n\tthis.clock = new THREE.Clock();\n\tthis.raycaster = new THREE.Raycaster();\n\n\t// scene\n\tthis.scene = new THREE.Scene();\n\t\n\t// camera\n\tthis.camera = new THREE.PerspectiveCamera( 50, 1, 1, 2000 );\n\tthis.camera.position.z = Earth.camDistance;\n\tthis.scene.add( this.camera );\n\t\n\t// renderer\n\tthis.renderer = new THREE.WebGLRenderer( {\n\t\talpha: true,\n\t\tantialias: true,\n\t\tpreserveDrawingBuffer: ( this.options.preserveDrawingBuffer ) ? true : false \n\t} );\n\t\n\tif ( this.options.shadows ) {\n\t\tthis.renderer.shadowMap.enabled = true;\n\t\tthis.renderer.shadowMap.type = THREE.PCFSoftShadowMap;\n\t}\n\t\n\tthis.renderer.setPixelRatio( window.devicePixelRatio );\n\t\n\tthis.canvas = this.renderer.domElement;\n\tthis.element.appendChild( this.canvas );\n\t\n\t\n\t// check capabilities for first instance on page\n\tif ( ! Earth.capabilitiesChecked ) Earth.checkCapabilities( this.renderer );\n\t\n\n\t// earth\n\t\n\tthis.sphere = new THREE.Mesh(\n\t\tnew THREE.SphereBufferGeometry( Earth.earthRadius, this.options.quality*16, this.options.quality*12 ),\n\t\tnew THREE.MeshBasicMaterial( { visible: false } )\n\t);\n\t\n\tthis.sphere.renderOrder = -2;\n\t\n\tif ( this.options.shadows ) {\n\t\tthis.sphere.receiveShadow = true;\n\t\tthis.sphere.castShadow = true;\n\t}\n\t\n\tthis.scene.add( this.sphere );\n\t\n\t\n\t// inner earth\n\t\n\tif ( this.options.transparent ) {\n\t\tthis.innerSphere = new THREE.Mesh(\n\t\t\tnew THREE.SphereBufferGeometry( Earth.earthRadius, this.options.quality*16, this.options.quality*12 ), // - 0.001\n\t\t\tnew THREE.MeshBasicMaterial( { visible: false } )\n\t\t);\n\n\t\tthis.innerSphere.renderOrder = -3;\n\t\tthis.sphere.add( this.innerSphere );\n\t}\n\t\n\t\n\tthis.loadTexture();\n\t\n\t\n\t// light\n\t\n\tthis.ambientLight = new THREE.AmbientLight( 0xFFFFFF, this.options.lightAmbience );\n\tthis.scene.add( this.ambientLight );\n\t\n\tif ( this.options.light == 'simple' ) {\n\t\t\n\t\tthis.primaryLight = new THREE.HemisphereLight( new THREE.Color(this.options.lightColor), new THREE.Color(this.options.lightGroundColor), this.options.lightIntensity );\n\t\tthis.scene.add( this.primaryLight );\n\t\t\n\t} else if ( this.options.light == 'sun' ) {\n\t\t\n\t\tthis.primaryLight = new THREE.DirectionalLight( new THREE.Color(this.options.lightColor), this.options.lightIntensity );\n\t\t\n\t\tif ( this.options.shadows ) {\n\t\t\tthis.primaryLight.castShadow = true;\n\t\t\t\n\t\t\tthis.primaryLight.shadow.mapSize.width =\n\t\t\tthis.primaryLight.shadow.mapSize.height = Earth.shadowSize[ this.options.quality ];\n\t\t\t\n\t\t\tvar d = 25;\n\t\t\tthis.primaryLight.shadow.camera.left = -d;\n\t\t\tthis.primaryLight.shadow.camera.right = d;\n\t\t\tthis.primaryLight.shadow.camera.top = d;\n\t\t\tthis.primaryLight.shadow.camera.bottom = -d;\n\t\t\tthis.primaryLight.shadow.camera.far = 3000;\n\t\t\tthis.primaryLight.shadow.bias = 0.0001;\n\t\t}\n\t\t\n\t\tthis.scene.add( this.primaryLight );\n\t\t\n\t}\n\t\n\t\n\t// events\n\t\n\tvar dragStartMousePosition;\n\tvar ignoreClicks = false;\n\tvar lastTouchStart;\n\t\n\tvar clickHandler = (function( event ){\n\t\t\n\t\tif ( this.paused ) return;\n\t\t\n\t\tif ( ignoreClicks && event.type == 'click' ) return;\n\t\t\n\t\t\n\t\t// touch to mousevents\n\t\t\n\t\tvar touchEndClick = false;\n\t\t\n\t\tif ( event.type == 'touchstart' ||  event.type == 'touchend' ) {\n\t\t\n\t\t\tif ( event.touches.length > 1 ) return;\n\n\t\t\tvar x = event.changedTouches[0].clientX, y = event.changedTouches[0].clientY;\n\t\t\n\t\t\tif ( event.type == 'touchstart' ) {\n\t\t\t\t\n\t\t\t\tvar type = 'mousedown';\n\t\t\t\tlastTouchStart = new THREE.Vector2( x, y );\n\t\t\t\t\n\t\t\t} else if ( event.type == 'touchend' ) {\n\t\t\t\t\n\t\t\t\tvar type = 'mouseup';\n\t\t\t\ttouchEndClick = ! ignoreClicks && lastTouchStart && lastTouchStart.distanceTo( new THREE.Vector2( x, y ) ) < Earth.maxClickDistance;\n\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t} else {\n\t\t\t\n\t\t\tvar type = event.type;\n\t\t\tvar x = event.clientX, y = event.clientY;\n\t\t\t\n\t\t}\n\t\t\n\n\t\tvar mouse = Earth.normalizeMouse( this, x, y );\n\t\tvar intersects = this.raycast( mouse );\n\t\tvar intersect_sphere = false;\n\t\t\n\t\tfor ( var i = 0; i < intersects.length; i++ ) {\n\t\t\t\n\t\t\tif ( intersects[ i ].object == this.sphere ) {\n\t\t\t\tvar uv = intersects[ i ].uv;\n\t\t\t\tintersects[ i ].object.material.map.transformUv( uv );\n\t\t\t\t\n\t\t\t\tvar mouseEvent = { type: type, x : mouse.x, y : mouse.y, location : Earth.uvToLatLng( uv ), originalEvent: event };\n\t\t\t\t\n\t\t\t\tif ( this.mapHitTest ) {\n\t\t\t\t\tmouseEvent.id = this.hitTestMap( uv );\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.dispatchEvent( mouseEvent );\n\t\t\t\t\n\t\t\t\tif ( touchEndClick ) {\n\t\t\t\t\tmouseEvent.type = 'click';\n\t\t\t\t\tthis.dispatchEvent( mouseEvent );\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tintersect_sphere = true;\n\n\t\t\t} else if ( intersects[ i ].object.userData.marker && intersects[ i ].object.userData.marker.hotspot ) {\n\t\t\t\t\n\t\t\t\tif ( ! intersect_sphere || (intersects[ i ].object.userData.marker.isSprite && ! intersects[ i ].object.userData.marker.occluded) ) {\n\n\t\t\t\t\tif ( type == 'mousedown' && Earth.hasEvent( intersects[ i ].object.userData.marker, ['mousedown'] ) ) {\n\t\t\t\t\t\tintersects[ i ].object.userData.marker.dispatchEvent( { type: \"mousedown\", originalEvent: event } );\n\t\t\t\t\t\tevent.stopImmediatePropagation();\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\n\t\t\t\t\t} else if ( type == 'mouseup' && Earth.hasEvent( intersects[ i ].object.userData.marker, ['mouseup'] ) ) {\n\t\t\t\t\t\tintersects[ i ].object.userData.marker.dispatchEvent( { type: \"mouseup\" } );\n\t\t\t\t\t\tif ( touchEndClick ) {\n\t\t\t\t\t\t\tintersects[ i ].object.userData.marker.dispatchEvent( { type: \"click\", originalEvent: event } );\n\t\t\t\t\t\t}\n\t\t\t\t\t\tevent.stopImmediatePropagation();\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\n\t\t\t\t\t} else if ( ( type == 'click' || touchEndClick ) && Earth.hasEvent( intersects[ i ].object.userData.marker, ['click'] ) ) {\n\t\t\t\t\t\tintersects[ i ].object.userData.marker.dispatchEvent( { type: \"click\", originalEvent: event } );\n\t\t\t\t\t\tevent.stopImmediatePropagation();\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\n\t\t\t\t}\n\n\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t}\n\n\t}).bind( this );\n\t\n\tthis.canvas.addEventListener( 'click', clickHandler );\n\tthis.canvas.addEventListener( 'mousedown', clickHandler );\n\tthis.canvas.addEventListener( 'mouseup', clickHandler );\n\tthis.canvas.addEventListener( 'touchstart', clickHandler );\n\tthis.canvas.addEventListener( 'touchend', clickHandler );\n\t\t\n\tthis.canvas.addEventListener( 'mouseover', (function(event){\n\t\t\n\t\tif ( this.paused ) return;\n\t\tthis.mouseOver = true;\n\t\t\n\t}).bind( this ) );\n\t\n\tthis.canvas.addEventListener( 'mouseout', (function(event){\n\t\t\n\t\tif ( this.paused ) return;\n\t\tthis.mouseOver = false;\n\t\tthis.mouseOverEarth = false;\n\t\t\n\t\tif ( this.mouseOverObject ) {\n\t\t\tthis.mouseOverObject.dispatchEvent( { type: \"mouseout\", originalEvent: event } );\n\t\t\tthis.mouseOverObject = null;\n\t\t}\n\t\t\n\t}).bind( this ) );\t\n\t\n\tthis.canvas.addEventListener( 'mousemove', (function(event) {\n\t\t\n\t\tif ( this.paused ) return;\n\t\tthis.mousePosition = Earth.normalizeMouse( this, event.clientX, event.clientY );\n\t\n\t}).bind( this ) );\n\t\n\tthis.canvas.addEventListener( 'touchmove', (function(event) {\n\t\t\n\t\tif ( this.paused ) return;\n\t\tthis.mousePosition = Earth.normalizeMouse( this, event.touches[0].clientX, event.touches[0].clientY );\n\n\t}).bind( this ) );\n\t\n\t\n\t\n\tdocument.addEventListener( 'mousemove', (function(event) {\n\t\t\n\t\tif ( this.paused ) return;\n\t\tthis.docMousePosition = Earth.getEventPosition( event );\n\t\n\t}).bind( this ) );\n\t\n\tdocument.body.addEventListener( 'touchmove', (function(event) {\n\t\t\n\t\tif ( this.paused ) return;\n\t\tthis.docMousePosition = Earth.getEventPosition( event );\n\t\n\t}).bind( this ) );\n\t\n\t\n\t\n\t// orbit\n\t\n\tthis.orbit = new Earth.Orbit( this.camera, this );\n\t\n\tthis.orbit.addEventListener( \"start\", (function() {\n\t\t\n\t\tthis.dragging = true;\n\t\tif ( this.grabCursor ) document.documentElement.classList.add( 'earth-dragging' );\n\t\t\n\t\tif ( this.goAnimation ) {\n\t\t\tthis.goAnimation.stop();\n\t\t}\n\t\t\n\t\tif ( this.ready ) this.dispatchEvent( { type: 'dragstart' } );\n\t\t\n\t\t// save mouse position\n\t\tdragStartMousePosition = this.docMousePosition;\n\t\t\n\t}).bind( this ) );\n\t\n\tthis.orbit.addEventListener( \"change\", (function( event ) {\n\t\t\t\n\t\tif ( this.ready ) this.dispatchEvent( { type: 'change' } );\n\t\t\n\t\tthis.radius = this.getRadius();\n\t\t\n\t\t// beginn to ignore clicks if dragged a little distance\n\t\tif ( this.dragging && ! ignoreClicks ) {\n\t\t\tignoreClicks = dragStartMousePosition && dragStartMousePosition.distanceTo( this.docMousePosition ) > Earth.maxClickDistance;\n\t\t}\n\n\t}).bind( this ) );\n\n\tthis.orbit.addEventListener( \"end\", (function() {\n\t\t\n\t\tthis.momentum.copy( this.mouseVelocity );\n\t\tthis.mouseVelocity.set(0, 0);\n\t\tthis.lastDocMousePosition = false;\n\t\t\n\t\tdocument.documentElement.classList.remove( 'earth-dragging' );\n\t\t\n\t\tif ( this.dragging ) {\n\t\t\tthis.dragging = false;\n\t\t\tif ( this.ready ) this.dispatchEvent( { type: 'dragend' } );\n\t\t}\n\t\t\n\t\t// enable clicks after dragend\n\t\tif ( ignoreClicks ) {\n\t\t\tsetTimeout( function(){ ignoreClicks = false; }, 1 );\n\t\t}\n\t\t\n\t}).bind( this ) );\n\t\n\t\n\t// set properties\n\t\n\tObject.assign( this, this.options );\n\t\n\tthis.update();\n\n\tsetTimeout( (function() {\n\t\tthis.ready = true;\n\t\tthis.element.classList.add( 'earth-ready' );\n\t\tthis.dispatchEvent( { type: 'ready' } );\n\t\tthis.dispatchEvent( { type: 'change' } );\n\t}).bind( this ), 1 );\n\t\n};\n\n\n// PUBLIC\n// properties\n\nObject.defineProperties( Earth.prototype, {\n\n\tlocation : {\n\t\tget: function() {\n\t\t\t\n\t\t\treturn Earth.worldToLatLng( this.camera.position );\t\t\t\n\t\t\t\n\t\t},\n\t\tset: function( v ) {\n\t\t\tvar latlng = Object.assign( {}, v );\n\t\t\tlatlng = Earth.formatLatLng( latlng );\n\t\t\t\n\t\t\t// limit lat\n\t\t\tif ( ! this.goAnimation ) { // no limits during rotation animation\n\t\t\t\tlatlng.lat = Math.min( this.maxLat(), Math.max( this.minLat(), latlng.lat ) );\n\t\t\t}\n\t\t\t\n\t\t\tthis.orbit.setPosition( Earth.latLngToWorld( latlng, this.camera.position.length() ) );\n\t\t\tthis.resetAutoRotate();\n\t\t\t\n\t\t}\n\t},\n\t\n\tpaused : {\n\t\tget: function() {\n\t\t\treturn this.options.paused;\n\t\t},\n\t\tset: function( v ) {\n\t\t\tif ( v ) {\n\t\t\t\tthis.options.paused = true;\n\t\t\t\t\n\t\t\t} else if ( this.options.paused ) { // resume if paused\n\t\t\t\tthis.options.paused = false;\n\t\t\t\t\n\t\t\t\tif ( this.ready ) { // if not ready, update will be called when ready\n\t\t\t\t\tthis.update();\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t}\n\t},\n\t\n\tmapLandColor : {\n\t\tget: function() {\n\t\t\treturn this.options.mapLandColor;\n\t\t},\n\t\tset: function( v ) {\n\t\t\tthis.options.mapLandColor = v;\n\t\t}\n\t},\t\n\tmapSeaColor : {\n\t\tget: function() {\n\t\t\treturn this.options.mapSeaColor;\n\t\t},\n\t\tset: function( v ) {\n\t\t\tthis.options.mapSeaColor = v;\n\t\t}\n\t},\n\tmapBorderColor : {\n\t\tget: function() {\n\t\t\treturn this.options.mapBorderColor;\n\t\t},\n\t\tset: function( v ) {\n\t\t\tthis.options.mapBorderColor = v;\n\t\t}\n\t},\n\tmapBorderWidth : {\n\t\tget: function() {\n\t\t\treturn this.options.mapBorderWidth;\n\t\t},\n\t\tset: function( v ) {\n\t\t\tthis.options.mapBorderWidth = v;\n\t\t}\n\t},\n\tmapStyles : {\n\t\tget: function() {\n\t\t\treturn this.options.mapStyles;\n\t\t},\n\t\tset: function( v ) {\n\t\t\tthis.options.mapStyles = v;\n\t\t}\n\t},\n\tmapSvg : {\n\t\tget: function() {\n\t\t\treturn this.options.mapSvg;\n\t\t},\n\t\tset: function( v ) {\n\t\t\tthis.options.mapSvg = v;\n\t\t\tthis.removeHitTester();\n\t\t}\n\t},\n\tmapImage : {\n\t\tget: function() {\n\t\t\treturn this.options.mapImage;\n\t\t},\n\t\tset: function( v ) {\n\t\t\tthis.options.mapImage = v;\n\t\t}\n\t},\n\t\n\tdraggable : {\n\t\tget: function() {\n\t\t\treturn this.orbit.enableRotate;\n\t\t},\n\t\tset: function( v ) {\n\t\t\tthis.orbit.enableRotate = v;\n\t\t\t\n\t\t\tif ( ! v && this.dragging ) { // stop dragging\n\t\t\t\tthis.orbit.cancel();\n\t\t\t\t//this.orbit.enabled = false;\n\t\t\t}\n\t\t\t\n\t\t}\n\t},\n\n\tdragPolarLimit : {\n\t\tget: function() {\n\t\t\treturn this.options.dragPolarLimit;\n\t\t},\n\t\tset: function( v ) {\n\t\t\tthis.options.dragPolarLimit = Math.max( 0, Math.min( 1, v ) );\n\t\t\tthis.orbit.minPolarAngle = this.options.dragPolarLimit/2 * Math.PI; // radians\n\t\t\tthis.orbit.maxPolarAngle = (1-this.options.dragPolarLimit/2) * Math.PI; // radians\n\t\t}\n\t},\n\t\n\tpolarLimit : {\n\t\tget: function() {\n\t\t\treturn this.options.polarLimit;\n\t\t},\n\t\tset: function( v ) {\n\t\t\tthis.options.polarLimit = Math.max( 0, Math.min( 1, v ) );\n\t\t}\n\t},\n\t\n\t\n\tautoRotate : {\n\t\tget: function() {\n\t\t\treturn this.options.autoRotate;\n\t\t},\n\t\tset: function( v ) {\n\t\t\tthis.options.autoRotate = v;\n\t\t\tif ( ! v ) {\n\t\t\t\tthis.resetAutoRotate();\n\t\t\t}\n\t\t}\n\t},\n\n\n\tzoom : {\n\t\tget: function() {\n\t\t\treturn Earth.camDistance / this.camera.position.length();\n\t\t},\n\t\tset: function( v ) {\n\t\t\tthis.orbit.setPosition( this.camera.position.normalize().multiplyScalar( Earth.camDistance / v ) );\n\t\t}\n\t},\n\tzoomable : {\n\t\tget: function() {\n\t\t\treturn this.orbit.enableZoom;\n\t\t},\n\t\tset: function( v ) {\n\t\t\tthis.orbit.enableZoom = v;\n\t\t}\n\t},\n\tzoomMin : {\n\t\tget: function() {\n\t\t\treturn 1 / (this.orbit.maxDistance / Earth.camDistance);\n\t\t},\n\t\tset: function( v ) {\n\t\t\tthis.orbit.maxDistance = Earth.camDistance * (1/v);\n\t\t}\n\t},\n\tzoomMax : {\n\t\tget: function() {\n\t\t\treturn 1 / (this.orbit.minDistance / Earth.camDistance);\n\t\t},\n\t\tset: function( v ) {\n\t\t\tthis.orbit.minDistance = Earth.camDistance * (1/v);\n\t\t}\n\t},\n\tzoomSpeed : {\n\t\tget: function() {\n\t\t\treturn this.orbit.zoomSpeed;\n\t\t},\n\t\tset: function( v ) {\n\t\t\tthis.orbit.zoomSpeed = v;\n\t\t}\n\t},\n\t\n\t\n\tlightAmbience : {\n\t\tget: function() {\n\t\t\treturn this.ambientLight.intensity;\n\t\t},\n\t\tset: function( v ) {\n\t\t\tthis.ambientLight.intensity = v;\n\t\t}\n\t},\n\t\n\tlightIntensity : {\n\t\tget: function() {\n\t\t\tif ( ! this.primaryLight ) return 1;\n\t\t\treturn this.primaryLight.intensity;\n\t\t},\n\t\tset: function( v ) {\n\t\t\tif ( ! this.primaryLight ) return;\n\t\t\tthis.primaryLight.intensity = v;\n\t\t}\n\t},\t\n\tlightColor : {\n\t\tget: function() {\n\t\t\tif ( ! this.primaryLight ) return '#FFFFFF';\n\t\t\treturn '#' + this.primaryLight.color.getHexString();\n\t\t},\n\t\tset: function( v ) {\n\t\t\tif ( ! this.primaryLight ) return;\n\t\t\tthis.primaryLight.color = new THREE.Color(v);\n\t\t}\n\t},\n\tlightGroundColor : {\n\t\tget: function() {\n\t\t\tif ( ! this.primaryLight || ! this.primaryLight.isHemisphereLight ) return '#FFFFFF';\n\t\t\treturn '#' + this.primaryLight.groundColor.getHexString();\n\t\t},\n\t\tset: function( v ) {\n\t\t\tif ( ! this.primaryLight || ! this.primaryLight.isHemisphereLight ) return;\n\t\t\tthis.primaryLight.groundColor = new THREE.Color(v);\n\t\t}\n\t},\n\t\n\tsunLocation : {\n\t\tget: function() {\n\t\t\tif ( ! this.primaryLight || ! this.primaryLight.isDirectionalLight ) return { lat: 0, lng: 0 };\n\t\t\treturn Earth.worldToLatLng( this.primaryLight.position );\t\n\t\t},\n\t\tset: function( v ) {\n\t\t\tif ( ! this.primaryLight || ! this.primaryLight.isDirectionalLight ) return;\n\t\t\tthis.primaryLight.position.copy( Earth.latLngToWorld( Earth.formatLatLng(v), Earth.camDistance ) );\n\t\t}\n\t},\n\t\n\tsunDirection : {\n\t\tget: function() {\n\t\t\tif ( ! this.primaryLight || ! this.primaryLight.isDirectionalLight ) return false;\n\t\t\treturn this.options.sunDirection;\t\n\t\t},\n\t\tset: function( v ) {\n\t\t\tif ( ! this.primaryLight || ! this.primaryLight.isDirectionalLight ) return;\n\t\t\tif ( ! v || typeof v.x == 'undefined' ) return;\n\t\t\tif ( this.primaryLight.parent !== this.camera ) {\n\t\t\t\tthis.camera.add( this.primaryLight );\n\t\t\t}\t\t\t\n\t\t\tthis.primaryLight.position.set( v.x*50, v.y*50, 0);\n\t\t}\n\t},\n\t\n\n} );\n\n\n// private\n// determine quality based on container size\n\nEarth.prototype.getQuality = function() {\n\t\n\treturn ( this.element.offsetWidth >= 720 ) ? 4 : 3;\n\t\n};\n\n\n// private\n// get min and max latitude according to polarLimit\n\nEarth.prototype.minLat = function() {\n\treturn (1 - this.options.polarLimit) * -90;\n};\nEarth.prototype.maxLat = function() {\n\treturn (1 - this.options.polarLimit) * 90;\t\n};\n\n\n\n// private\n// handle autoRotate\n\nEarth.prototype.updateAutoRotate = function() {\n\t\n\tthis.autoRotateTime += this.deltaTime;\n\t\n\tif ( this.autoRotateTime > this.autoRotateDelay ) {\n\t\t\n\t\tif ( ! this.autoRotate ) { // start autoRotate\n\t\t\tthis.dispatchEvent( { type: 'autorotate' } );\n\t\t\tthis.autoRotate = true;\n\t\t}\n\t\t\n\t\tvar t = ( this.autoRotateTime - this.autoRotateDelay ) / this.autoRotateStart;\n\t\t\n\t\tif ( t > 1 ) {\n\t\t\tthis.orbit.autoRotateSpeed = this.autoRotateSpeed;\n\t\t\tthis.orbit.autoRotateSpeedUp = this.autoRotateSpeedUp;\n\t\t} else {\n\t\t\tthis.orbit.autoRotateSpeed = THREE.Math.lerp( 0, this.autoRotateSpeed, Earth.Animation.Easing[ this.autoRotateEasing ](t) );\n\t\t\tthis.orbit.autoRotateSpeedUp = THREE.Math.lerp( 0, this.autoRotateSpeedUp, Earth.Animation.Easing[ this.autoRotateEasing ](t) );\n\t\t}\n\t\n\t} else {\n\n\t\tthis.orbit.autoRotateSpeed = 0;\n\t\tthis.orbit.autoRotateSpeedUp = 0;\n\t\n\t}\n\t\n};\n\n\n// PUBLIC\n// start autoRotate without delay\n\nEarth.prototype.startAutoRotate = function( easeIn ) {\n\tthis.autoRotateTime = this.autoRotateDelay + ( ( easeIn ) ? 0 : this.autoRotateStart );\n\tthis.autoRotate = true;\n\tthis.autoRotating = true;\n};\n\n// PUBLIC\n// interrupt rotation\n\nEarth.prototype.resetAutoRotate = function() {\n\tthis.autoRotateTime = 0;\n\tthis.autoRotating = false;\n};\n\n\n// private\n// handle momentum\n\nEarth.prototype.updateMomentum = function() {\n\t\n\tif ( this.dragging ) {\n\t\t\n\t\tthis.resetAutoRotate();\n\t\tthis.orbit.autoRotateSpeed = 0;\n\t\tthis.orbit.autoRotateSpeedUp = 0;\n\t\tthis.momentum.set( 0, 0 );\n\t\t\n\t\treturn;\n\t\t\n\t}\n\t\n\tif ( this.momentum.equals( Earth.zeroMomentum ) ) {\n\t\t\n\t\tif ( this.autoRotate ) {\n\t\t\t\n\t\t\tthis.updateAutoRotate();\n\t\t\t\n\t\t} else {\n\t\t\t\n\t\t\tthis.orbit.autoRotateSpeed = 0;\n\t\t\tthis.orbit.autoRotateSpeedUp = 0;\n\t\t\t\n\t\t}\n\t\t\n\t\treturn;\n\t\t\n\t}\n\t\n\tthis.resetAutoRotate();\n\t\n\tthis.orbit.autoRotateSpeed = this.momentum.x * 10000;\n\tthis.orbit.autoRotateSpeedUp = this.momentum.y * 10000;\n\t\n\tthis.momentum.set(\n\t\tTHREE.Math.lerp( this.momentum.x, 0, this.deltaTime / (2000 - (this.dragDamping*1999)) ),\n\t\tTHREE.Math.lerp( this.momentum.y, 0, this.deltaTime / (2000 - (this.dragDamping*1999)) )\n\t);\n\t\n\t\n\tif ( Math.abs(this.momentum.x) < 0.00005 ) {\n\t\tthis.momentum.x = 0;\n\t}\n\tif ( Math.abs(this.momentum.y) < 0.00005 ) {\n\t\tthis.momentum.y = 0;\n\t}\t\n\t\n};\n\n\n// private\n// calculate velocity for momentum\n\nEarth.prototype.updatePointerVelocity = function() {\n\n\tif ( this.dragging && this.dragMomentum && this.docMousePosition && this.lastDocMousePosition ) {\n\t\t\n\t\tvar moveVelocity = this.docMousePosition.clone().sub(\n\t\t\tthis.lastDocMousePosition\n\t\t).multiplyScalar( 0.00005 );\n\t\t\n\t\tvar max_velocity_x = 0.002;\n\t\tvar max_velocity_y = 0.0015;\n\t\t// limit velocity\n\t\tif ( moveVelocity.x < -max_velocity_x ) moveVelocity.x = -max_velocity_x;\n\t\telse if ( moveVelocity.x > max_velocity_x ) moveVelocity.x = max_velocity_x;\n\t\tif ( moveVelocity.y < -max_velocity_y ) moveVelocity.y = -max_velocity_y;\n\t\telse if ( moveVelocity.y > max_velocity_y ) moveVelocity.y = max_velocity_y;\n\t\t\n\t\t\n\t\t//this.mouseVelocity.lerp( moveVelocity, Math.min(1, this.deltaTime/50) );\n\t\tthis.mouseVelocity.copy( moveVelocity );\n\t\t\n\t} else {\n\t\t\n\t\tthis.mouseVelocity.set( 0, 0 );\n\t\t\n\t}\n\t\n\tthis.lastDocMousePosition = ( this.docMousePosition ) ? this.docMousePosition.clone() : false;\n\t\n};\n\n\n// private\n// handle mouse over/out events and cursors\n\nEarth.prototype.updatePointer = function() {\n\n\t// mouse over / out\n\t\n\tvar overObject = false;\n\tthis.mouseOverEarth = false;\n\t\n\t\n\tif ( this.mouseOver && ! this.dragging ) {\n\t\n\t\tvar intersects = this.raycast( this.mousePosition );\n\t\tvar intersect_sphere = false;\n\t\t\n\t\tfor ( var i = 0; i < intersects.length; i++ ) {\n\t\t\t\n\t\t\tvar obj = intersects[ i ].object;\n\t\t\t\n\t\t\tif ( obj == this.sphere ) {\n\t\t\t\tthis.mouseOverEarth = true;\n\t\t\t\tintersect_sphere = true;\n\t\t\t\n\t\t\t} else if ( ! overObject && obj.userData.marker && obj.userData.marker.hotspot && Earth.hasEvent( obj.userData.marker, ['click','mousedown','mouseup','mouseover','mouseout'] ) ) {\n\t\t\t\t\n\t\t\t\tif ( ! intersect_sphere || (intersects[ i ].object.userData.marker.isSprite && ! intersects[ i ].object.userData.marker.occluded) ) {\n\t\t\t\t\toverObject = intersects[ i ].object.userData.marker;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t}\n\t\t\n\t}\n\t\n\t\n\tif ( overObject ) {\n\t\t\n\t\tif ( this.mouseOverObject && this.mouseOverObject != overObject ) {\n\t\t\tthis.mouseOverObject.dispatchEvent( { type: \"mouseout\" } );\n\t\t}\n\t\t\n\t\tthis.mouseOverObject = overObject;\n\t\tthis.mouseOverObject.dispatchEvent( { type: \"mouseover\" } ); \n\t\t\n\t} else if ( this.mouseOverObject ) {\n\t\t\n\t\tthis.mouseOverObject.dispatchEvent( { type: \"mouseout\" } );\n\t\tthis.mouseOverObject = null;\n\t\t\n\t}\n\t\n\t\n\tif ( this.mouseOverObject && Earth.hasEvent( this.mouseOverObject, ['click'] ) ) {\n\t\tthis.element.classList.add( 'earth-clickable' );\n\t} else {\n\t\tthis.element.classList.remove( 'earth-clickable' );\n\t}\n\t\n\t\n\tif ( this.draggable && this.grabCursor && this.mouseOverEarth ) {\n\t\tthis.element.classList.add( 'earth-draggable' );\n\t} else {\n\t\tthis.element.classList.remove( 'earth-draggable' );\n\t}\n\t\n};\n\n\n\n// PUBLIC\n\nEarth.prototype.hitTest = function( latlng ) {\n\t\n\treturn this.hitTestMap( Earth.latLngToUv( latlng ) );\n\t\n};\n\n// private\n// hit test a uv position and return path id\n\nEarth.prototype.hitTestMap = function( uv ) {\n\t\n\tif ( ! this.mapSvg ) return '';\n\t\n\tif ( ! this.hitTester ) {\n\t\tthis.hitTester = document.createElement( 'div' );\n\t\tdocument.body.appendChild( this.hitTester );\n\t\tthis.hitTester.className = 'earth-hittest';\n\t\tthis.hitTester.innerHTML = String( this.mapSvg ).replace(/\\sid\\s*=/gi, ' data-id=');  // escape IDs\n\t}\n\t\n\tvar svgElement = this.hitTester.querySelector('svg');\n\tif ( ! svgElement ) return '';\n\t\n\tthis.hitTester.style.display = 'block';\n\t\n\tvar rect = svgElement.getBoundingClientRect();\n\tvar elem = document.elementFromPoint( uv.x * rect.width, uv.y * rect.height );\n\t\n\tthis.hitTester.style.display = 'none';\n\n\tif ( elem && elem.dataset && elem.dataset.id ) {\n\t\treturn elem.dataset.id;\n\t} else {\n\t\treturn '';\n\t}\n\t\n};\n\n// private\n// removes hitTester if earth is destroyed or mapSvg is changed\n\nEarth.prototype.removeHitTester = function() {\n\tif ( this.hitTester ) {\n\t\tthis.hitTester.remove();\n\t\tthis.hitTester = null;\n\t}\n};\n\n\n// private\n// raycast of mouse position\n\nEarth.prototype.raycast = function( mouse ) {\n\t\n\tthis.raycaster.setFromCamera( Earth.normalizeRaycast(mouse), this.camera );\n\treturn this.raycaster.intersectObjects( this.scene.children );\n\t\n};\n\n\n// PUBLIC\n// call redrawMap if map properties have been changed\n\nEarth.prototype.redrawMap = function() {\n\t\n\tthis.loadTexture();\n\t\n};\n\n\n// PUBLIC\n// updates the map texture after drawing to the mapCanvas\n\nEarth.prototype.updateMap = function() {\n\t\n\tif ( this.mapTexture ) this.mapTexture.needsUpdate = true;\n\t\n};\n\n\n// private\n// is svg?\n\nEarth.prototype.mapImageIsSvg = function( url ) {\n\t\n\treturn String(url).toLowerCase().indexOf('.svg') != -1;\n\t\n};\n\n\n\n// private\n// load map texture\n\nEarth.prototype.loadTexture = function( useMapSvg, isDefaultMap ) {\n\t\n\tif ( useMapSvg ) { // svg map\n\t\t\n\t\tvar svg = this.mapSvg;\n\t\t\n\t\tif ( isDefaultMap ) {\n\t\t\tvar style = '<style type=\"text/css\">';\n\t\t\tstyle += '#SEA { fill:'+ this.options.mapSeaColor +'; }';\n\t\t\tstyle += 'path { fill:'+ this.options.mapLandColor +'; ';\n\t\t\tstyle += 'stroke:'+ ( this.options.mapBorderColor ? this.options.mapBorderColor : this.options.mapLandColor ) +'; ';\n\t\t\tstyle += 'stroke-width:'+ this.options.mapBorderWidth +'; stroke-miterlimit:1; }';\n\t\t\tstyle += this.options.mapStyles;\n\t\t\tstyle += '</style>';\n\t\t\tsvg = svg.replace( /(<svg[^>]+>)/i, '$1 ' + style );\n\t\t}\n\t\t\n\t\tthis.mapImageElem = document.createElement(\"img\");\n\t\tthis.mapImageElem.setAttribute( \"src\", \"data:image/svg+xml;base64,\" + btoa(unescape(encodeURIComponent(svg))) );\n\t\tthis.mapImageElem.onload = this.drawTexture.bind( this );\n\t\t\n\t\t\n\t} else if ( this.options.legacySupportIE11 && Earth.isIE11() && this.options.fallbackMapUrlIE11 ) { // IE fallback map image\n\t\n\t\tthis.mapImageElem = document.createElement(\"img\");\n\t\tthis.mapImageElem.setAttribute( \"src\", this.options.fallbackMapUrlIE11 );\n\t\tthis.mapImageElem.onload = this.drawTexture.bind( this );\n\t\t\n\t\t\n\t} else if ( this.options.mapImage && ! this.mapImageIsSvg( this.options.mapImage ) ) { // pixel image\n\t\n\t\tthis.mapImageElem = document.createElement(\"img\");\n\t\tthis.mapImageElem.setAttribute( \"src\", this.options.mapImage );\n\t\tthis.mapImageElem.onload = this.drawTexture.bind( this );\n\t\t\n\t\t\n\t} else if ( this.options.mapImage ) { // custom svg\n\t\n\t\tvar thisEarth = this;\n\t\tvar ajax = new XMLHttpRequest();\n\n\t\tajax.onreadystatechange = function() {\n\t\t\tif ( this.readyState == 4 ) {\n\t\t\t\tthisEarth.mapSvg = Earth.fixSvgNamespace( this.responseText );\n\t\t\t\tthisEarth.loadTexture( true, false );\n\t\t\t}\n\t\t};\n\t\t\n\t\tajax.open(\"GET\", this.options.mapImage, true);\n\t\tajax.send();\n\t\n\t\n\t} else if ( Earth.mapSvg ) { // default svg\n\t\t\n\t\tthis.mapSvg = Earth.fixSvgNamespace( Earth.mapSvg );\n\t\tthis.loadTexture( true, true );\n\t\t\n\t\t\n\t} else {\n\t\t\n\t\tsetTimeout( this.drawTexture.bind( this ), 1 );\n\t\t\n\t\t\n\t}\n\t\n};\n\n\n// private\n// draw the map texture, called by loadTexture\n\nEarth.prototype.drawTexture = function() {\n\t\n\tif ( ! this.mapCanvas ) {\n\t\tthis.mapCanvas = document.createElement( \"canvas\" );\n\t\tthis.mapCanvas.width = Earth.textureSize[ this.quality ];\n\t\tthis.mapCanvas.height = Earth.textureSize[ this.quality ] / 2;\n\t\tthis.mapContext = this.mapCanvas.getContext(\"2d\");\n\t\t\n\t} else { // already exits\n\t\tthis.mapContext.clearRect(0, 0, this.mapCanvas.width, this.mapCanvas.height);\n\t\t\n\t}\n\t\n\t\n\t// draw map image\n\t\n\tif ( this.mapImageElem ) {\n\t\tthis.mapContext.drawImage( this.mapImageElem, 0, 0, this.mapImageElem.width, this.mapImageElem.height, 0, 0, this.mapCanvas.width, this.mapCanvas.height );\n\t}\n\t\t\n\tthis.dispatchEvent( { type: 'drawtexture', canvas: this.mapCanvas, context : this.mapContext } );\n\t\n\t\n\tif ( ! this.mapTexture ) {\n\t\t\n\t\tthis.mapTexture = new THREE.CanvasTexture( this.mapCanvas );\n\t\tthis.mapTexture.wrapS = THREE.RepeatWrapping; // this.mapTexture.wrapT = \n\t\tthis.mapTexture.anisotropy = Earth.anisotropy[ this.quality ];\n\t\tthis.mapTexture.offset = new THREE.Vector2( -0.25, 0 );\n\t\n\t\tvar earthMaterial = {\n\t\t\tmap: this.mapTexture,\n\t\t\tshininess: this.shininess * 100,\n\t\t\tdithering : (this.light != 'none')\n\t\t};\n\t\t\n\t\t// inner earth\n\t\tif ( this.transparent ) {\n\t\t\t\n\t\t\tearthMaterial.transparent = true;\n\t\t\tearthMaterial.depthWrite = false;\n\n\t\t\tthis.innerSphere.material = new THREE.MeshBasicMaterial( {\n\t\t\t\tdithering : (this.light != 'none'),\n\t\t\t\ttransparent : true,\n\t\t\t\tcolor : this.innerColor,\n\t\t\t\topacity : this.innerOpacity,\n\t\t\t\tside: THREE.BackSide,\n\t\t\t\tdepthWrite : false,\n\t\t\t\tmap: this.mapTexture\n\t\t\t} );\n\n\t\t}\n\n\t\tthis.sphere.material = new THREE.MeshPhongMaterial( earthMaterial );\n\t\n\t\n\t} else { // already exists\n\t\n\t\tthis.mapTexture.needsUpdate = true;\n\t\t\n\t}\n\t\n};\n\n\n// private\n// watch for bounding rect changes\n\nEarth.prototype.updateBounds = function() {\n\t\n\tthis.bounds = this.element.getBoundingClientRect();\n\t\n\tthis.outOfView = \tthis.bounds.right < 0 || this.bounds.bottom < 0 ||\n\t\t\t\t\t\tthis.bounds.left > window.innerWidth  || this.bounds.top > window.innerHeight;\n\t\t\t\t\t\t\n\tthis.isVisible = this.bounds.width && this.bounds.height;\n\t\n\t\n\tif ( this.elementSize.x == this.bounds.width && this.elementSize.y == this.bounds.height ) return; // not resized\n\t\n\tthis.elementSize.set( this.bounds.width, this.bounds.height );\n\tthis.elementCenter.set( this.bounds.width / 2, this.bounds.height / 2 );\n\tthis.containerScale = Math.min( this.elementSize.x, this.elementSize.y ) / 1000; // for overlay scaling\n\t\n\tthis.camera.aspect = this.bounds.width / this.bounds.height;\n\tthis.camera.updateProjectionMatrix();\n\tthis.renderer.setSize( this.bounds.width, this.bounds.height );\n\t\n\tthis.radius = this.getRadius();\n\t\n};\n\n\n// private\n// main loop\n\nEarth.prototype.update = function() {\n\t\n\tif ( this.paused ) return;\n\t\n\trequestAnimationFrame( this.update.bind(this) );\n\t\n\tif ( ! this.ready ) return;\n\t\n\tthis.deltaTime = Math.min( 100, this.clock.getDelta() * 1000 );\n\t\n\tthis.updateBounds();\n\tthis.updatePointerVelocity();\n\tthis.updatePointer();\n\tthis.updateMomentum();\n\tthis.orbit.update();\n\n\t/* >>> */\n\tthis.updateAnimations();\n\t/* <<< */\n\n\tthis.dispatchEvent( { type: \"update\" } );\n\n\n\tif ( ! this.outOfView && this.isVisible ) {\t\t\n\n\t\tthis.renderer.render( this.scene, this.camera );\n\t\t\n\t\t/* >>> */\n\t\tthis.updateOccludables();\n\t\t/* <<< */\n\t\t\n\t\tthis.updateOverlays();\t\n\t\n\t}\n\t\n};\n\n\n\n// PUBLIC\n// create and add objects\n\nEarth.prototype.addMarker = function( options ) {\n\treturn new Earth.Marker( options, this );\n};\n\n/* >>> */\n\nEarth.prototype.addImage = function( options ) {\n\treturn new Earth.Image( options, this );\n};\n\n\nEarth.prototype.addSprite = function( options ) {\n\treturn new Earth.Sprite( options, this );\n};\n\n\nEarth.prototype.addPoints = function( options ) {\n\treturn new Earth.Points( options, this );\n};\n\n\nEarth.prototype.addLine = function( options ) {\n\treturn new Earth.Line( options, this );\n};\n\n/* <<< */\n\nEarth.prototype.addOverlay = function( options ) {\n\treturn new Earth.Overlay( options, this );\n};\n\n\n// private\n// handle overlays\n\nEarth.prototype.updateOverlays = function() {\n\t\n\tvar updateOrder = false;\n\tvar camDistance = this.camera.position.length();\n\t\n\tfor (var i=0; i < this.overlays.length; i++) {\n\t\t\n\t\tvar overlay = this.overlays[i];\n\t\t\n\t\t\n\t\tupdateOrder = true;\n\t\n\t\t// position\n\t\toverlay.updatePositions();\n\t\t\n\t\tif ( overlay.elementPosition.y < overlay.earth.elementSize.y / 2 ) {\n\t\t\toverlay.element.classList.add('earth-overlay-top');\n\t\t} else {\n\t\t\toverlay.element.classList.remove('earth-overlay-top');\n\t\t}\n\t\t\n\t\tif ( overlay.elementPosition.x < overlay.earth.elementSize.x / 2 ) {\n\t\t\toverlay.element.classList.add('earth-overlay-left');\n\t\t} else {\n\t\t\toverlay.element.classList.remove('earth-overlay-left');\n\t\t}\n\t\t\n\t\t// occlusion\n\t\toverlay.updateOcclusion();\n\t\t\n\t\tif ( overlay.occluded ) {\n\t\t\toverlay.element.classList.add('earth-occluded');\n\t\t} else {\n\t\t\toverlay.element.classList.remove('earth-occluded');\n\t\t}\n\t\t\n\t\t\n\t\tif ( ! overlay.visible ) continue;\n\t\t\n\t\t\n\t\t// scaling\n\t\tvar scale = 1;\n\t\t\n\t\tif ( overlay.depthScale ) {\n\t\t\tscale *= Math.max( 0, 1 - overlay.depthScale + (camDistance-overlay.distance) / Earth.earthRadius * overlay.depthScale );\n\t\t}\t\t\n\t\tif ( overlay.zoomScale ) {\n\t\t\tscale *= THREE.Math.lerp( 1, this.zoom, overlay.zoomScale );\n\t\t}\n\t\tif ( overlay.containerScale ) {\n\t\t\tscale *= THREE.Math.lerp( 1, this.containerScale, overlay.containerScale );\n\t\t}\n\t\t\n\t\tscale = Math.max(0, scale);\n\t\tvar scaleTransform = ( scale!=1 ) ? ' scale('+ scale +')' : '';\n\t\t\n\t\t\n\t\t// apply transform\n\t\toverlay.element.style.transform = 'translate('+ overlay.elementPosition.x +'px, '+ overlay.elementPosition.y +'px)' + scaleTransform;\n\t\t\n\t\t\n\t\tif ( ! overlay.ready ) {\n\t\t\toverlay.ready = true;\n\t\t\toverlay.visible = true;\n\t\t}\n\t\n\t}\n\t\n\t\n\tif ( updateOrder ) {\n\t\n\t\t// sort by cam distance for z-index\n\t\t\n\t\tthis.overlays.sort( function(a, b) {\n\t\t\treturn b.distance - a.distance;\n\t\t} );\n\t\n\t\tfor (var i=0; i < this.overlays.length; i++) {\n\t\t\tthis.overlays[i].element.style.zIndex = (( this.overlays[i].occluded && this.overlays[i].occlude ) ? 10 : 1010) + i;\n\t\t}\n\t\t\n\t}\n\t\n};\n\n\n// private\n// handle occlusion\n\nEarth.prototype.updateOccludables = function() {\n\t\n\tfor ( var i=0; i < this.occludables.length; i++ ) {\n\t\t\n\t\tvar occludable = this.occludables[i];\n\t\t\n\t\toccludable.updatePositions();\n\t\toccludable.updateOcclusion();\n\n\t}\n\t\n};\n\n\n// private\n// handle all animations on this earth\n/* >>> */\n\nEarth.prototype.updateAnimations = function() {\n\t\n\tvar complete_animations = [];\n\t\n\tfor ( var i in this.animations ) {\n\t\tvar ani = this.animations[i];\n\t\t\n\t\tif ( ani.paused ) continue;\n\t\t\n\t\tif ( ani.target.removed ) {\n\t\t\tcomplete_animations.push( ani );\n\t\t\tcontinue;\n\t\t}\n\t\t\n\t\tani.time += this.deltaTime;\n\t\tvar p = ani.time / ani.duration; // progress 0-1\n\t\t\n\t\tani.step( Math.min( p, 1 ) );\n\t\t\n\t\tif ( p >= 1 ) { // end of animation\n\t\t\n\t\t\tif ( ani.loop ) {\n\t\t\t\t\n\t\t\t\tif ( ani.oscillate ) {\n\t\t\t\t\tani.time = Math.max( 0, ani.duration - ani.time );\n\t\t\t\t\tvar current = ani.to;\n\t\t\t\t\tani.to = ani.from;\n\t\t\t\t\tani.from = current;\n\t\t\t\t} else {\n\t\t\t\t\tani.time = Math.max( 0, ani.duration - ani.time );\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tani.dispatchEvents( true );\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\tcomplete_animations.push( ani );\n\t\t\t}\n\t\t\t\n\t\t}\n\t\t\n\t}\n\t\n\tfor ( var i in complete_animations ) {\n\t\tcomplete_animations[i].stop( true );\n\t}\n\t\n};\n\n/* <<< */\n\n\n\n// PUBLIC\n// animate earth location and zoom\n// special options: zoom, approachAngle\n// returns false or aniInstance\n\nEarth.prototype.goTo = function( location, options ) {\n\t\n\tif ( ! options ) options = {};\n\t\n\tif ( options.approachAngle ) {\n\t\n\t\tvar toPos = Earth.latLngToWorld( location, Earth.earthRadius );\n\t\tvar camPos = this.camera.position.clone().normalize().multiplyScalar( Earth.earthRadius );\n\t\t\n\t\tif ( THREE.Math.radToDeg( toPos.angleTo( camPos ) ) > options.approachAngle ) {\n\t\t\t\n\t\t\tfor ( var i=1; i <= 32; i++ ) {\n\t\t\t\t\n\t\t\t\tvar midPos = new THREE.Vector3().lerpVectors( camPos, toPos, i/32 ).normalize().multiplyScalar( Earth.earthRadius );\n\t\t\t\t\n\t\t\t\tif ( THREE.Math.radToDeg( toPos.angleTo( midPos ) ) <= options.approachAngle ) {\n\t\t\t\t\t\n\t\t\t\t\tlocation = Earth.worldToLatLng( midPos );\n\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t} else {\n\t\t\n\t\t\treturn false;\n\t\t\t\n\t\t}\n\t\t\n\t}\n\t\n\t\n\t// cancel previous animation\n\t\n\tif ( this.goAnimation ) {\n\t\tthis.goAnimation.stop();\n\t}\n\t\n\t\n\tvar to = Object.assign( {}, location );\t\n\t\n\t// limit lat\n\tto.lat = Math.min( this.maxLat(), to.lat );\n\tto.lat = Math.max( this.minLat(), to.lat );\n\t\n\n\tvar ani = {\n\t\t_end : function() {\n\t\t\tthis.goAnimation = null;\n\t\t\tif ( this.zoomAnimation ) this.zoomAnimation.stop();\n\t\t\tthis.zoomAnimation = null;\n\t\t},\n\t\tlerpLatLng : true\n\t};\n\t\n\tObject.assign( ani, options );\n\t\n\tthis.goAnimation = this.animate( 'location', to, ani );\n\t\n\t\n\tif ( options.zoom ) {\n\t\t\n\t\tthis.zoomAnimation = this.animate( 'zoom', options.zoom, {\n\t\t\tduration : this.goAnimation.duration\n\t\t} );\n\t\t\n\t}\n\t\n\treturn this.goAnimation;\n\t\n};\n\n\n\n// PUBLIC\n// get position in element container for a lat/lng location with optional earth offset\n\nEarth.prototype.getPoint = function( location, offset ) {\n\t\n\tif ( ! offset ) offset = 0;\n\t\n\tvar worldPos = Earth.latLngToWorld( location, Earth.earthRadius + offset );\n\t\n\treturn Earth.worldToElement( worldPos, this.elementSize, this.camera );\t\n\t\n};\n\n\n\n// PUBLIC\n// get lat/lng location for a mouse/touch position\n\nEarth.prototype.getLocation = function( point ) {\n\t\n\tvar mouse = Earth.normalizeMouse( this, point.x, point.y );\n\t\n\tthis.raycaster.setFromCamera( Earth.normalizeRaycast(mouse), this.camera );\n\tvar intersects = this.raycaster.intersectObjects( [this.sphere] );\n\t\n\tfor ( var i = 0; i < intersects.length; i++ ) {\n\t\t\n\t\tvar uv = intersects[ i ].uv;\n\t\tintersects[ i ].object.material.map.transformUv( uv );\n\t\t\n\t\treturn Earth.uvToLatLng( uv );\n\t\t\n\t}\n\t\n\treturn false;\n\t\n};\n\n\n\n// PUBLIC\n// get approx. earth radius in pixels\n\nEarth.prototype.getRadius = function() {\n\t\n\treturn this.elementSize.y / 2 * 0.758 *\n\t\tMath.pow( this.zoom, \n\t\t\t(this.zoom > 1) ? 1.158 : \n\t\t\tTHREE.Math.lerp( 1.01, 1.11, this.zoom )\n\t\t);\n\t\n};\n\n\n\n// static const\n\nEarth.earthRadius = 8;\nEarth.camDistance = 24;\nEarth.textureSize = [ 0, 512, 1024, 2048, 4096, 8192, 16384 ];\nEarth.shadowSize  = [ 0, 512,  512, 1024, 2048, 4096,  8192 ];\nEarth.anisotropy = [ 1, 1, 2, 4, 8, 8, 16 ];\n\nEarth.defaultImage = 'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgdmlld0JveD0iMCAwIDMyIDMyIj48Y2lyY2xlIGZpbGw9IiNmZmYiIGN4PSIxNiIgY3k9IjE2IiByPSIxNiIvPjwvc3ZnPg';\nEarth.spriteHotspot = 'data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB3aWR0aD0iNjRweCIgaGVpZ2h0PSI2NHB4IiB2aWV3Qm94PSIwIDAgNjQgNjQiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDY0IDY0OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZmlsbD0iIzAwRkYwMCIgZD0iTTEsMXY2Mmg2MlYxSDF6IE02Miw2MkgyVjJoNjBWNjJ6Ii8+PC9zdmc+';\n\nEarth.invisibleMaterial = new THREE.MeshBasicMaterial( {visible: false} );\nEarth.hotspotMaterial = new THREE.MeshBasicMaterial( {color: 0x00ff00, wireframe: true} );\n\n\nEarth.up = new THREE.Vector3( 0, 1, 0 );\nEarth.left = new THREE.Vector3( 1, 0, 0 );\nEarth.back = new THREE.Vector3( 0, 0, 1 );\nEarth.zero = new THREE.Vector3( 0, 0, 0 );\n\nEarth.zeroMomentum = new THREE.Vector2();\n\nEarth.maxClickDistance = 10;\n\n\n// static vars\n\nEarth.capabilitiesChecked = false;\nEarth.cssAdded = false;\nEarth.meshesAdded = false;\n\nEarth.meshes = {};\nEarth.textures = {};\n\n\n// static functions\n\n\n// private\n// fix the corrpuption of the svg namespace with some webservers\n\nEarth.fixSvgNamespace = function( svg ) {\n\treturn String(svg).replace('xmlns=\"https://www.w3.org/2000/svg\"', 'xmlns=\"ht'+'tp://www.w3.org/2000/svg\"');\n};\n\n\n// private\n// lat/lng values to numbers\n\nEarth.formatLatLng = function( latlng ) {\n\tif ( typeof latlng != \"object\" ) {\n\t\treturn { lat: 0, lng: 0 };\n\t} else {\n\t\tlatlng.lat = Number(latlng.lat);\n\t\tlatlng.lng = Number(latlng.lng);\n\t\treturn latlng;\n\t}\t\n};\n\n\n// private\n// get a simple hash of a string\n\nEarth.hash = function( str ){\n    var hash = 0;\n    if (str.length == 0) return hash;\n    for (var i = 0; i < str.length; i++) {\n        hash = ((hash<<5)-hash) + str.charCodeAt(i);\n        hash = hash & hash;\n    }\n    return hash;\n};\n\n\n// private\n// load a texture or get it from textures array if it exists\n\nEarth.getTexture = function ( src, resolution, alphaOnly ) {\n\t\n\t// build a unique key of source and options\n\tvar key = Earth.hash(src) + '#' + resolution + ((alphaOnly)?'#a':'');\n\t\n\t// return existing texture\n\tif ( Earth.textures[key] ) return Earth.textures[key];\n\t\n\t\n\tvar canvas = document.createElement(\"canvas\");\n\tcanvas.width = resolution;\n\tcanvas.height = resolution;\n\n\tEarth.textures[key] = new THREE.CanvasTexture( canvas );\n\tEarth.textures[key].needsUpdate = false;\n\t\n\t\n\tvar img = new Image();\n\n\timg.onload = function () {\n\n\t\t// scale to contain\n\n\t\tvar ratio = img.naturalHeight / img.naturalWidth;\n\t\tvar x = 0, y = 0, w = canvas.width, h = canvas.height;\n\t\t\n\t\tif ( ratio < 1 ) { // landscape\n\t\t\th = Math.round( w * ratio );\n\t\t\ty = Math.round( canvas.height / 2 - h / 2 );\n\t\t} else { // portrait\n\t\t\tw = Math.round( h * (1/ratio) );\n\t\t\tx = Math.round( canvas.width / 2 - w / 2 );\n\t\t}\n\t\t\n\n\t\tvar ctx = canvas.getContext(\"2d\");\n\n\t\t// base color with 1% alpha\n\t\tctx.globalAlpha = 1/256;\n\t\tctx.fillStyle = \"#999999\";\n\t\tctx.fillRect( 0, 0, canvas.width, canvas.height);\n\t\tctx.globalAlpha = 1;\n\n\t\t// draw original image\n\t\tctx.globalCompositeOperation = \"source-over\";\n\t\tctx.drawImage( img, x, y, w, h );\n\t\t\n\t\t\n\t\t// only change colors, not alpha\n\t\tctx.globalCompositeOperation = \"source-atop\";\n\t\t\n\t\tif ( alphaOnly ) { // tint white\n\t\t\n\t\t\tctx.fillStyle = \"white\";\n\t\t\tctx.fillRect( 0, 0, canvas.width, canvas.height );\n\t\t\n\t\t} else { // bleed colors\n\t\t\t\n\t\t\tvar offset = [-1,-1, 0,-1, 1,-1, -1,0, 1,0, -1,1, 0,1, 1,1];\n\t\t\tvar s = 2;  // thickness scale\n\t\t\t  \n\t\t\t// draw 8 images at offsets from the array scaled by s\n\t\t\tfor (var i=0; i < offset.length; i += 2) ctx.drawImage(img, x + offset[i]*s, y + offset[i+1]*s, w, h);\n\n\t\t\t// image at original position\n\t\t\tctx.drawImage( img, x, y, w, h );\n\t\t\t\n\t\t}\t\t\n\t\t\n\t\tEarth.textures[key].needsUpdate = true;\n\t  \n\t};\n\n\timg.src = src;\n\t\n\t\n\treturn Earth.textures[key];\n\n};\n\n\n// private\n// limit resolution/quality to system capabilities\n\nEarth.checkCapabilities = function( renderer ) {\n\t\n\tvar maxTex = renderer.capabilities.maxTextureSize;\n\tvar maxAni = renderer.capabilities.getMaxAnisotropy();\n\t\n\tfor ( var i=0; i < Earth.textureSize.length; i++ ) {\n\t\tif ( Earth.textureSize[i] > maxTex ) Earth.textureSize[i] = maxTex;\n\t\tif ( Earth.shadowSize[i] > maxTex ) Earth.shadowSize[i] = maxTex;\n\t\t\n\t\tif ( Earth.anisotropy[i] > maxAni ) Earth.anisotropy[i] = maxAni;\n\t}\n\n\tEarth.capabilitiesChecked = true;\n\t\n};\n\n\n// private\n// register and dispatch custom load event when the script is loaded\n\nEarth.dispatchLoadEvent = function() {\n\t\n\tif ( typeof window.CustomEvent === \"function\" ) {\n\t\tvar loadedEvent = new CustomEvent( \"earthjsload\" );\t\n\t} else {\n\t\tvar loadedEvent = document.createEvent( \"CustomEvent\" );\n\t\tloadedEvent.initCustomEvent( \"earthjsload\", false, false, undefined );\n\t}\n\t\n\twindow.dispatchEvent( loadedEvent );\n\t\n};\n\n\n// private\n// add default css from string\n\nEarth.addCss = function() {\n\n\tEarth.styleElement = document.createElement('style');\n\n\tif ( Earth.styleElement.styleSheet ) {\n\t\tEarth.styleElement.styleSheet.cssText = Earth.css;\n\t} else {\n\t\tEarth.styleElement.appendChild( document.createTextNode( Earth.css ) );\n\t}\n\t\n\tdocument.getElementsByTagName(\"head\")[0].appendChild( Earth.styleElement );\n\n};\n\n\n// PUBLIC\n// parse meshes from obj file string\n\nEarth.addMesh = function( objString ) {\n\t \n\tvar lib = new Earth.ObjParser().parse( objString );\n\t\n\tlib.traverse( function ( child ) {\n\t\t\n\t\tif ( ! child.name ) return;\n\t\t\n\t\tEarth.meshes[ child.name.split('_')[0] ] = child;\n\t\tchild.material = new THREE.MeshPhongMaterial( { color: 0xFF0000, shininess: 0.3, flatShading: false } );\n\t\t\n\t} );\n\t\n};\n\n\n// private\n// dispose objects\n\nEarth.dispose = function( obj ) {\n\t\n\twhile (obj.children.length > 0) { \n\t\tEarth.dispose(obj.children[0]);\n\t\tobj.remove(obj.children[0]);\n\t}\n\t\n\tif (obj.geometry) obj.geometry.dispose();\n\tif (obj.material) obj.material.dispose();\n\t\n};\n\n\n// PUBLIC\n// destroy earth to free memory\n\nEarth.prototype.destroy = function() {\n\t\n\tthis.paused = true;\n\t\n\tEarth.dispose( this.scene );\n\t\n\tthis.renderer.forceContextLoss();\n\tthis.renderer.dispose();\n\tthis.renderer.context = null;\n\tthis.renderer.domElement.remove();\n\tthis.renderer.domElement = null;\n\t\n\tthis.orbit.dispose();\n\t\n\tthis.removeHitTester();\n\t\n\tthis.overlays = null;\n\tthis.occludables = null;\n\tthis.animations = null;\n\tthis.element.earth = null;\n\tthis.element = null;\n\tthis.canvas = null;\n\n};\n\n\n// PUBLIC\n// check for webgl support\n\nEarth.isSupported = function( supportIE11 ) {\n\t\n\ttry {\n\t\t\n\t\tif ( ! supportIE11 && Earth.isIE11() ) return false;\n\t\t\n\t\tvar canvas = document.createElement( 'canvas' );\n\t\treturn window.WebGLRenderingContext && ( canvas.getContext( 'webgl' ) || canvas.getContext( 'experimental-webgl' ) );\n\n\t} catch ( e ) {\n\t\t\n\t\treturn false;\n\n\t}\n\t\n};\n\n\n// private\n// check for IE11\n\nEarth.isIE11 = function( ) {\n\treturn !! window.MSInputMethodContext && !! document.documentMode;\t\n};\n\n\n// private\n// get points of a 3d line\n\nEarth.getPathPoints = function( fromPos, toPos, subdevisions, offset, offsetFlow, offsetEasing ) {\n\t\n\toffset += Earth.earthRadius;\t\n\t\n\tvar points = [ fromPos, toPos ];\n\t\n\tfor (var i=0; i < subdevisions; i++) {\n\t\tpoints = Earth.subdividePath( points, offset );\n\t}\n\t\n\t\n\tif ( offsetFlow ) {\n\t\tfor (var i=0; i < points.length; i++) {\n\t\t\tpoints[i].multiplyScalar( 1 + Earth.Animation.Easing[ offsetEasing ]( i / (points.length-1) ) * offsetFlow/10 );\n\t\t}\n\t}\n\t\n\treturn points;\n\t\n};\n\n\n// private\n// subdivide a 3d line to smooth it\n\nEarth.subdividePath = function( points, offset ) {\n\n\tif ( points.length < 2 ) return [];\n\n\tvar new_points = [];\n\t\n\tnew_points.push( points[0] );\n\t\n\t// from point\n\tvar fromPoint = points[0];\n\t\n\tfor (var i=1; i < points.length; i++) {\n\t\t\n\t\t// to point\n\t\tvar toPoint = points[i];\n\t\t\n\t\t// mid point\n\t\tnew_points.push(\n\t\t\tnew THREE.Vector3().lerpVectors( fromPoint, toPoint, 0.5 ).normalize().multiplyScalar( offset )\n\t\t);\n\t\t\n\t\tnew_points.push( toPoint );\n\t\t\n\t\tfromPoint = toPoint;\n\t\t\n\t}\n\t\n\treturn new_points;\n\t\n};\n\n\n// private\n// normalized mouse position relative to element center\n\nEarth.mouseCenterOffset = function( mouse, earth, radius ) {\n\tvar relMouse = new THREE.Vector2( mouse.x - earth.bounds.left - earth.bounds.width/2 , mouse.y - earth.bounds.top - earth.bounds.height/2 );\n\treturn Math.min( 1, relMouse.length() / radius );\n};\n\n\n// private\n// raycasting helpers\n\nEarth.normalizeMouse = function( earth, x, y ) {\n\treturn  new THREE.Vector2( ( x - earth.bounds.left ) / earth.bounds.width, ( y - earth.bounds.top ) / earth.bounds.height );\n};\nEarth.normalizeElement = function( v2, element ) {\n\treturn new THREE.Vector2( v2.x / element.x, v2.y / element.y );\n};\nEarth.normalizeRaycast = function( v2 ) {\n\treturn new THREE.Vector2( ( v2.x * 2 ) - 1, - ( v2.y * 2 ) + 1 );\n};\n\n\n// private\n// position conversion\n\nEarth.latLngToWorld = function( location, radius ){\n\t\n\tvar phi   = THREE.Math.degToRad( -location.lat + 90 );\n\tvar theta = THREE.Math.degToRad( location.lng + 180 );\n   \n   return new THREE.Vector3().setFromSphericalCoords( radius, phi, theta );\n   \n};\nEarth.worldToLatLng = function( pos ) {\n\t\n\tvar s = new THREE.Spherical().setFromVector3 ( pos );\n\t   \n\tvar loc = {\n\t\tlat: THREE.Math.radToDeg( -s.phi ) + 90,\n\t\tlng: THREE.Math.radToDeg( s.theta ) + 180\n\t};\n\t\n\tEarth.wrapLatLng( loc );\n   \n\treturn loc;\n   \n};\n\n\n// private\n// UV <-> LatLng\n\nEarth.uvToLatLng = function( uv ) {\n\t\n\treturn {\n\t\tlat: (0.5 - uv.y) * 180,\n\t\tlng: (uv.x - 0.5) * 360\n\t};\n\t\n};\nEarth.latLngToUv = function( latlng ) {\n\t\n\tlatlng = Earth.wrapLatLng(  Earth.formatLatLng( latlng ) );\n\t\n\treturn new THREE.Vector2(\n\t\t1 - (latlng.lng / -360 + 0.5),\n\t\t0.5 + latlng.lat / -180\n\t);\n\t\n};\n\n\n// private\n// position helpers\n\nEarth.wrapLatLng = function( latlng ) {\n\n\tlatlng.lat = Earth.wrap( latlng.lat, -90, 90 );\n\tlatlng.lng = Earth.wrap( latlng.lng, -180, 180 );\n\t\n\treturn latlng;\n\t\n};\nEarth.wrapLngForLerp = function( fromLng, toLng ) {\n\t\n\tif ( Math.abs( toLng - fromLng ) > 180 ) {\n\t\ttoLng = ( toLng < 0 ) ? toLng + 360 : toLng - 360;\n\t}\n\t\n\treturn toLng;\n\t\n};\nEarth.worldToElement = function( position, element, camera ) {\n\t\n\tvar w = element.x / 2;\n\tvar h = element.y / 2;\n\n\tvar pos = position.clone().project( camera );\n\t\n\treturn new THREE.Vector2(\n\t\t( pos.x * w ) + w,\n\t\t- ( pos.y * h ) + h\n\t);\n\t\n};\n\n\n// private\n// distance in world units for dashed lines\n\nEarth.getLineDistance = function( points ) {\n\t\n\tvar distance = 0;\n\tvar from = points[0];\n\t\n\tfor ( var i = 1; i < points.length; i++ ) {\n\t\tvar to = points[i];\n\t\tdistance += from.distanceTo( to );\n\t\tfrom = to;\n\t} \n\t\n\treturn distance;\n\t\n};\n\n\n// private\n// lerp angle for animation\n\nEarth.lerpAngle = function( fromA, toA, t ) {\n    var fullA = Math.PI * 2;\n    var a = (toA - fromA) % fullA;\n    return fromA + ( 2 * a % fullA - a ) * t;\n};\n\n\n// private\n// wrap number\n\nEarth.wrap = function( val, min, max ) {\n\tvar range = max - min;\n\treturn min + ( ( ( (val - min) % range ) + range ) % range );\n};\n\n\n// PUBLIC\n// get distance in km\n\nEarth.getDistance = function( from, to ) {\n\t\n\tfrom =  Earth.formatLatLng( from );\n\tto =  Earth.formatLatLng( to );\n\t\n\tvar degLat = THREE.Math.degToRad( to.lat - from.lat );\n\tvar degLng = THREE.Math.degToRad( to.lng - from.lng );\n\t\n\tvar a = Math.sin(degLat / 2) * Math.sin(degLat / 2) +\n\tMath.cos( THREE.Math.degToRad( from.lat ) ) * Math.cos( THREE.Math.degToRad( to.lat ) ) *\n\tMath.sin( degLng / 2 ) * Math.sin( degLng / 2 );\n\t\n\tvar c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n\t\n\treturn  6378.137 * c; // mean radius in km\n\t\n};\n\n\n// PUBLIC\n// get angle between two latlng positions\n\nEarth.getAngle = function( from, to ) {\n\t\n\tfrom =  Earth.formatLatLng( from );\n\tto =  Earth.formatLatLng( to );\n\t\n\tvar fromPos = Earth.latLngToWorld( from, Earth.earthRadius );\n\tvar toPos = Earth.latLngToWorld( to, Earth.earthRadius );\n\t\n\treturn THREE.Math.radToDeg( fromPos.angleTo( toPos ) );\n\t\n};\n\n\n// PUBLIC\t\tlerp latlng location\n// from\t\t\tlatlng\n// to\t\t\tlatlng\n// t\t\t\ttime 0-1\n// lerpLatLng\tlerp latlng values or 3d position\n\nEarth.lerp = function( from, to, t, lerpLatLng ) {\n\t\n\tfrom =  Earth.formatLatLng( from );\n\tto =  Earth.formatLatLng( to );\n\n\tif ( lerpLatLng ) {\n\t\t\n\t\treturn Earth.wrapLatLng( {\n\t\t\tlat: THREE.Math.lerp( from.lat, to.lat, t ),\n\t\t\tlng: THREE.Math.lerp( from.lng, Earth.wrapLngForLerp( from.lng, to.lng ), t )\n\t\t} );\n\t\t\n\t} else {\n\n\t\treturn Earth.worldToLatLng(\n\t\t\tEarth.latLngToWorld( from, Earth.earthRadius ).lerp( Earth.latLngToWorld( to, Earth.earthRadius ), t )\n\t\t);\n\t\n\t}\n\t\n};\n\n\n// private\n// any event in types array registered?\n\nEarth.hasEvent = function( obj, types ) {\n\t\n\tif ( ! obj._listeners ) return false;\n\t\n\tfor ( var i=0; i < types.length; i++ ) {\n\t\tif ( obj._listeners[ types[i] ] && obj._listeners[ types[i] ].length ) return true;\n\t}\n\t\n\treturn false;\n\t\n};\n\n\n// private\n// get mouse or touch client position\n\nEarth.getEventPosition = function( event ) {\n\t\n\tif ( event.type == 'touchstart' || event.type == 'touchmove' ) {\n\t\treturn new THREE.Vector2( event.touches[0].clientX, event.touches[0].clientY );\n\t\n\t} else if ( event.type == 'touchend' ) {\n\t\treturn new THREE.Vector2( event.changedTouches[0].clientX, event.changedTouches[0].clientY );\n\t\t\n\t} else {\n\t\treturn new THREE.Vector2(  event.clientX, event.clientY );\n\t\t\n\t}\n\t\n};\n\n\n\n/* MARKER */\n\nEarth.Marker = function( initOptions, thisEarth ) {\n\n\tthis.init( initOptions, thisEarth );\n\n};\n\n\n// private\n\nEarth.Marker.prototype.init = function( initOptions, thisEarth ) {\n\t\n\t// default options\n\t\n\tvar defaults = {\n\t\t\n\t\tisMarker : true,\n\t\tearth : thisEarth,\n\t\t\n\t\tlocation : { lat : 0, lng : 0 },\n\n\t\toffset: 0,\n\t\t\n\t\tmesh: [\"Pin\", \"Needle\"],\n\t\tcolor: '#FF0000',\n\t\tcolor2: '#AAAAAA',\n\t\tcolor3: '#AAAAAA',\n\t\tcolor4: '#AAAAAA',\n\t\tcolor5: '#AAAAAA',\n\t\tcolor6: '#AAAAAA',\n\t\tcolor7: '#AAAAAA',\n\t\tcolor8: '#AAAAAA',\n\t\t\n\t\tscale : 1,\n\t\tscaleX : 1,\n\t\tscaleY : 1,\n\t\tscaleZ : 1,\n\t\tvisible : true,\n\t\t\n\t\thotspot : false,\n\t\thotspotRadius : 0.5,\n\t\thotspotHeight : 1.5,\n\n\t\talign : true,\n\t\trotationX : 0,\n\t\trotationY : 0,\n\t\trotationZ : 0,\t\t\n\t\tlookAt : false,\n\t\tlookAngle: 0, // private\n\t\t\n\t\tshininess: 0.3,\n\t\tflatShading: false,\n\t\tcastShadow: thisEarth.shadows,\n\t\treceiveShadow : false,\n\t\ttransparent : ( typeof initOptions.opacity != 'undefined' ),\n\t\t\n\t};\n\t\n\tthis.options = Object.assign(defaults, initOptions);\n\t\n\t\n\tthis.createObject();\n\t\n\tthis.addMeshes();\n\t\n\t\n\t// set props\n\tObject.assign( this, this.options );\n\n\tthis.ready = true;\n\tthis.update();\n\tthis.updateScale();\n\n\tthisEarth.occludables.push( this );\n\t\n\tif ( this.options.transparent ) {\n\t\tthis.addEventListener( 'occlusion', function() {\n\t\t\tfor ( var i=0; i < this.object3d.children.length; i++ ) {\n\t\t\t\tthis.object3d.children[i].renderOrder = ( this.occluded ) ? -4 : 0;\n\t\t\t}\n\t\t} );\t\n\t}\n\t\n\treturn this;\n\t\n};\n\n\n// private\n// add container object and hotspot\n\nEarth.Marker.prototype.createObject = function() {\n\t\n\tif ( this.options.hotspot ) {\n\t\n\t\tif ( this.options.hotspotGeometry == 'sprite' ) { // sprite\n\t\t\tthis.object3d = new THREE.Sprite( new THREE.SpriteMaterial( {\n\t\t\t\tmap : (this.options.earth.showHotspots) ? Earth.getTexture( Earth.spriteHotspot, 64, false ) : null,\n\t\t\t\topacity : (this.options.earth.showHotspots) ? 1 : 0,\n\t\t\t} ) );\t\t\t\n\n\t\t} else if ( this.options.hotspotGeometry == 'circle' ) { // circle\n\t\t\tvar geometry = new THREE.CircleGeometry( this.options.hotspotRadius * 1.2, 8 );\n\t\t\tgeometry.rotateX( THREE.Math.degToRad(-90) );\n\t\t\tgeometry.translate( 0, 0.01, 0 );\n\n\t\t\tthis.object3d = new THREE.Mesh( geometry, (this.options.earth.showHotspots) ? Earth.hotspotMaterial : Earth.invisibleMaterial );\n\n\t\t} else { // cylinder\n\t\t\tvar geometry = new THREE.CylinderBufferGeometry( this.options.hotspotRadius, this.options.hotspotRadius*0.75, this.options.hotspotHeight, 5 );\n\t\t\tgeometry.translate( 0, this.options.hotspotHeight/2, 0 );\n\t\t\t\n\t\t\tthis.object3d = new THREE.Mesh( geometry, (this.options.earth.showHotspots) ? Earth.hotspotMaterial : Earth.invisibleMaterial );\n\t\t\t\n\t\t}\n\t\t\n\t\n\t} else {\n\n\t\tthis.object3d = new THREE.Object3D();\n\t\t\n\t}\n\t\n\tthis.object3d.userData.marker = this;\t\n\tthis.options.earth.scene.add( this.object3d );\n\t\n};\n\n\n// private\n// add geometry\n\nEarth.Marker.prototype.addMeshes = function() {\n\t\n\tif ( typeof this.options.mesh == \"string\" ) {\n\t\tvar meshes = ( this.options.mesh ) ? [ this.options.mesh ] : [];\n\t} else {\n\t\tvar meshes = this.options.mesh;\n\t}\n\t\n\tfor ( var i = 0; i < meshes.length; i++ ) {\n\t\t\n\t\tvar meshClone = Earth.meshes[ meshes[i] ].clone();\n\t\tmeshClone.material = meshClone.material.clone();\n\t\tthis.object3d.add( meshClone );\n\t\t\n\t}\n\t\n};\n\n\nObject.assign( Earth.Marker.prototype, Earth.ClassicEventDispatcher.prototype );\n\n\n// PUBLIC\n// properties\n\nEarth.sharedObjectProperties = {\n\t\n\tcolor: {\n\t\tget: function() {\n\t\t\tif ( ! this.object3d.children[0] ) return '#FFFFFF';\n\t\t\treturn '#' + this.object3d.children[0].material.color.getHexString();\n\t\t},\n\t\tset: function( v ) {\n\t\t\tif ( ! this.object3d.children[0] ) return;\n\t\t\tthis.object3d.children[0].material.color.set( v );\n\t\t}\n\t},\n\t\n\topacity : {\n\t\tget: function() {\n\t\t\tif ( ! this.object3d.children[0] ) return 1;\n\t\t\treturn this.object3d.children[0].material.opacity;\n\t\t},\n\t\tset: function( v ) {\n\t\t\tfor ( var i=0; i < this.object3d.children.length; i++ ) {\n\t\t\t\tthis.object3d.children[i].material.opacity = v;\n\t\t\t}\n\t\t}\n\t},\n\n\tvisible : {\n\t\tget: function() {\n\t\t\treturn this.object3d.visible;\n\t\t},\n\t\tset: function( v ) {\n\t\t\tthis.object3d.visible = v;\n\t\t}\n\t},\n\n\tscale : {\n\t\tget: function() {\n\t\t\treturn this.options.scale;\n\t\t},\n\t\tset: function( v ) {\n\t\t\tthis.options.scale = v;\n\t\t\tif ( this.ready ) this.updateScale();\n\t\t}\n\t},\n\tscaleX : {\n\t\tget: function() {\n\t\t\treturn this.options.scaleX;\n\t\t},\n\t\tset: function( v ) {\n\t\t\tthis.options.scaleX = v;\n\t\t\tif ( this.ready ) this.updateScale();\n\t\t}\n\t},\n\tscaleY : {\n\t\tget: function() {\n\t\t\treturn this.options.scaleY;\n\t\t},\n\t\tset: function( v ) {\n\t\t\tthis.options.scaleY = v;\n\t\t\tif ( this.ready ) this.updateScale();\n\t\t}\n\t},\n\tscaleZ : {\n\t\tget: function() {\n\t\t\treturn this.options.scaleZ;\n\t\t},\n\t\tset: function( v ) {\n\t\t\tthis.options.scaleZ = v;\n\t\t\tif ( this.ready ) this.updateScale();\n\t\t}\n\t},\n\t\n\talign : {\n\t\tget: function() {\n\t\t\treturn this.options.align;\n\t\t},\n\t\tset: function( v ) {\n\t\t\tthis.options.align = v;\n\t\t\tif ( this.ready ) this.update();\n\t\t}\n\t},\t\n\trotationX : {\n\t\tget: function() {\n\t\t\treturn this.options.rotationX;\n\t\t},\n\t\tset: function( v ) {\n\t\t\tthis.options.rotationX = v;\n\t\t\tif ( this.ready ) this.update();\n\t\t}\n\t},\n\trotationY : {\n\t\tget: function() {\n\t\t\treturn this.options.rotationY;\n\t\t},\n\t\tset: function( v ) {\n\t\t\tthis.options.rotationY = v;\n\t\t\tif ( this.ready ) this.update();\n\t\t}\n\t},\n\trotationZ : {\n\t\tget: function() {\n\t\t\treturn this.options.rotationZ;\n\t\t},\n\t\tset: function( v ) {\n\t\t\tthis.options.rotationZ = v;\n\t\t\tif ( this.ready ) this.update();\n\t\t}\n\t},\n\tlookAt : {\n\t\tget: function() {\n\t\t\treturn this.options.lookAt;\n\t\t},\n\t\tset: function( v ) {\n\t\t\tthis.options.lookAt = (! v) ? false : Earth.formatLatLng(v);\n\t\t\tif ( this.ready ) this.update();\n\t\t}\n\t},\n\tlookAngle : {\n\t\tget: function() {\n\t\t\treturn this.options.lookAngle;\n\t\t},\n\t\tset: function( v ) {\n\t\t\tthis.options.lookAngle = v;\n\t\t\tif ( this.ready ) this.update( true );\n\t\t}\n\t},\n\t\n\toffset : {\n\t\tget: function() {\n\t\t\treturn this.options.offset;\n\t\t},\n\t\tset: function( v ) {\n\t\t\tthis.options.offset = v;\n\t\t\tif ( this.ready ) this.update();\n\t\t}\n\t},\n\t\n\tlocation : {\n\t\tget: function() {\n\t\t\treturn this.options.location;\n\t\t},\n\t\tset: function( v ) {\n\t\t\tthis.options.location = Earth.formatLatLng(v);\n\t\t\tif ( this.ready ) this.update();\n\t\t}\n\t}\n\t\n};\n\nObject.defineProperties( Earth.Marker.prototype, Earth.sharedObjectProperties );\n\nObject.defineProperties( Earth.Marker.prototype, {\n\t\n\tcolor2: {\n\t\tget: function() {\n\t\t\tif ( ! this.object3d.children[1] ) return '#FFFFFF';\n\t\t\treturn '#' + this.object3d.children[1].material.color.getHexString();\n\t\t},\n\t\tset: function( v ) {\n\t\t\tif ( ! this.object3d.children[1] ) return;\n\t\t\tthis.object3d.children[1].material.color.set( v );\n\t\t}\n\t},\n\tcolor3: {\n\t\tget: function() {\n\t\t\tif ( ! this.object3d.children[2] ) return '#FFFFFF';\n\t\t\treturn '#' + this.object3d.children[2].material.color.getHexString();\n\t\t},\n\t\tset: function( v ) {\n\t\t\tif ( ! this.object3d.children[2] ) return;\n\t\t\tthis.object3d.children[2].material.color.set( v );\n\t\t}\n\t},\n\tcolor4: {\n\t\tget: function() {\n\t\t\tif ( ! this.object3d.children[3] ) return '#FFFFFF';\n\t\t\treturn '#' + this.object3d.children[3].material.color.getHexString();\n\t\t},\n\t\tset: function( v ) {\n\t\t\tif ( ! this.object3d.children[3] ) return;\n\t\t\tthis.object3d.children[3].material.color.set( v );\n\t\t}\n\t},\n\tcolor5: {\n\t\tget: function() {\n\t\t\tif ( ! this.object3d.children[4] ) return '#FFFFFF';\n\t\t\treturn '#' + this.object3d.children[4].material.color.getHexString();\n\t\t},\n\t\tset: function( v ) {\n\t\t\tif ( ! this.object3d.children[4] ) return;\n\t\t\tthis.object3d.children[4].material.color.set( v );\n\t\t}\n\t},\n\tcolor6: {\n\t\tget: function() {\n\t\t\tif ( ! this.object3d.children[5] ) return '#FFFFFF';\n\t\t\treturn '#' + this.object3d.children[5].material.color.getHexString();\n\t\t},\n\t\tset: function( v ) {\n\t\t\tif ( ! this.object3d.children[5] ) return;\n\t\t\tthis.object3d.children[5].material.color.set( v );\n\t\t}\n\t},\n\tcolor7: {\n\t\tget: function() {\n\t\t\tif ( ! this.object3d.children[6] ) return '#FFFFFF';\n\t\t\treturn '#' + this.object3d.children[6].material.color.getHexString();\n\t\t},\n\t\tset: function( v ) {\n\t\t\tif ( ! this.object3d.children[6] ) return;\n\t\t\tthis.object3d.children[6].material.color.set( v );\n\t\t}\n\t},\n\tcolor8: {\n\t\tget: function() {\n\t\t\tif ( ! this.object3d.children[7] ) return '#FFFFFF';\n\t\t\treturn '#' + this.object3d.children[7].material.color.getHexString();\n\t\t},\n\t\tset: function( v ) {\n\t\t\tif ( ! this.object3d.children[7] ) return;\n\t\t\tthis.object3d.children[7].material.color.set( v );\n\t\t}\n\t},\n\t\n\tshininess: {\n\t\tget: function() {\n\t\t\tif ( ! this.object3d.children[0] ) return 0.3;\n\t\t\treturn this.object3d.children[0].material.shininess / 100;\n\t\t},\n\t\tset: function( v ) {\n\t\t\tfor ( var i=0; i < this.object3d.children.length; i++ ) {\n\t\t\t\tthis.object3d.children[i].material.shininess = v * 100;\n\t\t\t}\n\t\t}\n\t},\t\n\tflatShading: {\n\t\tget: function() {\n\t\t\tif ( ! this.object3d.children[0] ) return 0.3;\n\t\t\treturn this.object3d.children[0].material.flatShading;\n\t\t},\n\t\tset: function( v ) {\n\t\t\tfor ( var i=0; i < this.object3d.children.length; i++ ) {\n\t\t\t\tthis.object3d.children[i].material.flatShading = v;\n\t\t\t}\n\t\t}\n\t},\n\tcastShadow : {\n\t\tget: function() {\n\t\t\tif ( ! this.object3d.children[0] ) return false;\n\t\t\treturn this.object3d.children[0].castShadow;\n\t\t},\n\t\tset: function( v ) {\n\t\t\tfor ( var i=0; i < this.object3d.children.length; i++ ) {\n\t\t\t\tthis.object3d.children[i].castShadow = v;\n\t\t\t}\n\t\t}\n\t},\n\treceiveShadow: {\n\t\tget: function() {\n\t\t\tif ( ! this.object3d.children[0] ) return false;\n\t\t\treturn this.object3d.children[0].receiveShadow;\n\t\t},\n\t\tset: function( v ) {\n\t\t\tfor ( var i=0; i < this.object3d.children.length; i++ ) {\n\t\t\t\tthis.object3d.children[i].receiveShadow = v;\n\t\t\t}\n\t\t}\n\t},\n\t\n\ttransparent : {\n\t\tget: function() {\n\t\t\tif ( ! this.object3d.children[0] ) return false;\n\t\t\treturn this.object3d.children[0].material.transparent;\n\t\t},\n\t\tset: function( v ) {\n\t\t\tfor ( var i=0; i < this.object3d.children.length; i++ ) {\n\t\t\t\tthis.object3d.children[i].material.transparent = v;\n\t\t\t}\n\t\t}\n\t},\n\n\t\n});\n\n\n// PUBLIC\n// remove object\n\nEarth.Marker.prototype.remove = function() {\n\n\tthis.stopAllAnimations();\n\t\n\tif ( this == this.earth.mouseOverObject ) {\n\t\tthis.earth.mouseOverObject.dispatchEvent( { type: \"mouseout\" } );\n\t\tthis.earth.mouseOverObject = null;\n\t}\n\t\n\tEarth.dispose( this.object3d );\t\n\tthis.earth.scene.remove( this.object3d );\n\n\n\tthis.removed = true;\n\t\n\tvar objIndex = this.earth.occludables.indexOf( this );\n\tif ( objIndex == -1 ) return; // already removed\n\t\n\tthis.earth.occludables.splice( objIndex , 1 );\n\t\t\n};\n\n\n// private\n// apply scaling\n\nEarth.Marker.prototype.updateScale = function() {\n\t\n\tif ( this.isSprite ) {\n\t\t\n\t\tthis.object3d.scale.set(\n\t\t\tthis.options.scaleX * this.options.scale * (this.options.hotspotRadius*2),\n\t\t\tthis.options.scaleY * this.options.scale * (this.options.hotspotRadius*2),\n\t\t\t1\n\t\t);\n\t\t\n\t\tvar reverse_scale = 1 / (this.options.hotspotRadius*2);\n\t\t\n\t\tthis.object3d.children[0].scale.set(\n\t\t\treverse_scale,\n\t\t\treverse_scale,\n\t\t\t1\n\t\t);\n\t\t\n\t\t\n\t} else {\n\t\n\t\tthis.object3d.scale.set(\n\t\t\tthis.options.scaleX * this.options.scale,\n\t\t\tthis.options.scaleY * this.options.scale,\n\t\t\tthis.options.scaleZ * this.options.scale\n\t\t);\n\t\t\n\t}\n\t\n};\n\n\n// private\n// get object quaternion\n\nEarth.Marker.prototype.getQuaternion = function() {\n\t\n\tif ( this.align ) { // rotate to world center\n\n\t\tvar qt = new THREE.Quaternion().setFromRotationMatrix(\n\t\t\tnew THREE.Matrix4().lookAt( this.object3d.position, Earth.zero, Earth.up )\n\t\t);\n\t\tqt.multiply(  new THREE.Quaternion().setFromAxisAngle( Earth.left, 1.5707963267948966 ) );  // 90deg\n\t\t\n\t} else {\n\t\t\n\t\tvar qt = new THREE.Quaternion();\n\t\t\n\t}\n\t\n\treturn qt;\n\t\n};\n\n\n// private\n// update object position and rotation\n\nEarth.Marker.prototype.update = function( fixLookAngle) {\n\t\n\tvar p = Earth.latLngToWorld( this.location, Earth.earthRadius + this.offset );\n\t\n\tif ( this.isSprite ) {\n\t\tthis.object3d.center = new THREE.Vector2( this.anchorX, this.anchorY );\n\t\tthis.object3d.children[0].center = new THREE.Vector2( this.anchorX, this.anchorY );\n\t}\n\t\n\t\n\tthis.object3d.position.copy( p );\n\t\n\t\n\tvar qt = this.getQuaternion();\n\t\n\tif ( this.lookAt ) {\n\t\tif ( ! fixLookAngle ) {\n\t\t\t// update angle if lookAt is not same as location\n\t\t\tif ( Math.abs(this.location.lat-this.lookAt.lat) > 0.000001 || Math.abs(this.location.lng-this.lookAt.lng) > 0.000001 ) {\n\t\t\t\tthis.options.lookAngle = this.getLocalAngle( p, qt, Earth.latLngToWorld( this.lookAt, Earth.earthRadius ) );\n\t\t\t}\n\t\t}\n\t\tqt.multiply(  new THREE.Quaternion().setFromAxisAngle( Earth.up, this.options.lookAngle ) );\n\t}\n\t\n\tif ( this.rotationX ) {\n\t\tqt.multiply(  new THREE.Quaternion().setFromAxisAngle( Earth.left, THREE.Math.degToRad(this.rotationX) ) );\n\t}\n\tif ( this.rotationY ) {\n\t\tqt.multiply(  new THREE.Quaternion().setFromAxisAngle( Earth.up, THREE.Math.degToRad(this.rotationY) ) );\n\t}\n\tif ( this.rotationZ ) {\n\t\tqt.multiply(  new THREE.Quaternion().setFromAxisAngle( Earth.back, THREE.Math.degToRad(this.rotationZ) ) );\n\t}\n\t\n\tthis.object3d.setRotationFromQuaternion( qt );\n\t\n};\n\n\n// private\n// get lookAt rotation\n\nEarth.Marker.prototype.getLocalAngle = function( p, qt, lookP ) {\n\n\tvar startAngle = 0;\n\tvar angle = Math.PI / 2;\n\tvar tests = 9;\n\tvar testPoint = new THREE.Vector3( 0.01, 0, 0 );\n\tvar distP, distM, prevDist;\n\t\n\tfor ( var i = 0; i < tests; i++ ) {\n\t\t\n\t\tvar rotP = p.clone().add( testPoint.clone().applyQuaternion(\n\t\t\tqt.clone().multiply(  new THREE.Quaternion().setFromAxisAngle( Earth.up, startAngle + angle ) )\n\t\t) );\n\t\tdistP = lookP.distanceToSquared( rotP );\n\t\t\n\t\tvar rotM = p.clone().add( testPoint.clone().applyQuaternion(\n\t\t\tqt.clone().multiply(  new THREE.Quaternion().setFromAxisAngle( Earth.up, startAngle - angle ) )\n\t\t) );\n\t\tdistM = lookP.distanceToSquared( rotM );\n\t\t\n\t\t\n\t\tif ( ! prevDist || distP < prevDist || distM < prevDist ) {  // one tested point is closer\n\t\t\n\t\t\tif ( distP < distM ) {\n\t\t\t\tstartAngle += angle;\n\t\t\t\tprevDist = distP;\n\t\t\t} else {\n\t\t\t\tstartAngle -= angle;\n\t\t\t\tprevDist = distM;\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t}\n\t\n\t\tangle /= 2;\n\t\n\t}\n\t\n\treturn startAngle;\n\n};\n\n\n\n/* IMAGE */\n/* >>> */\n\nEarth.Image = function( initOptions, thisEarth ) {\n\t\n\tthis.init( initOptions, thisEarth );\n\t\n};\n\t\nObject.assign( Earth.Image.prototype, Earth.Marker.prototype );\nObject.defineProperties( Earth.Image.prototype, Earth.sharedObjectProperties );\n\nEarth.Image.prototype.init = function( initOptions, thisEarth ) {\n\t\n\t// default options\n\t\n\tvar defaults = {\n\t\t\n\t\tisImage : true,\n\t\tearth : thisEarth,\n\t\t\n\t\tlocation : { lat : 0, lng : 0 },\n\t\toffset: 0,\n\t\t\n\t\timage: Earth.defaultImage,\n\t\timageResolution: 128,\n\t\timageAlphaOnly: false,\n\t\tcolor: '#FFFFFF',\n\t\t\n\t\tscale : 1,\n\t\tscaleX : 1,\n\t\tscaleY : 1, // private\n\t\tscaleZ : 1,\n\t\tvisible : true,\n\t\t\n\t\thotspot : false,\n\t\thotspotRadius : 0.5,\n\t\thotspotGeometry : 'circle', // private\n\n\t\talign : true,\n\t\trotationX : 0,\n\t\trotationY : 0,\n\t\trotationZ : 0,\t\t\n\t\tlookAt : false,\n\t\tlookAngle: 0, // private\n\t\t\n\t\tshininess: 0.3,\n\t\tflatShading: false,\n\t\tcastShadow: false,\n\t\treceiveShadow : false,\n\t\ttransparent : true,\n\t\t\n\t\topacity: 1\n\t\t\n\t};\n\t\n\tthis.options = Object.assign(defaults, initOptions);\n\t\n\t\n\tthis.createObject();\n\tthis.createImage();\n\t\n\t\n\t// set props\n\tObject.assign( this, this.options );\n\n\tthis.ready = true;\n\tthis.update();\n\tthis.updateScale();\n\n\tthisEarth.occludables.push( this );\n\t\n\tif ( this.options.transparent ) {\n\t\tthis.addEventListener( 'occlusion', function() {\n\t\t\tthis.object3d.children[0].renderOrder = ( this.occluded ) ? -4 : 0;\n\t\t} );\t\n\t}\n\t\n\treturn this;\n\t\n};\n\n\n// private\n// add image plane\n\nEarth.Image.prototype.createImage = function() {\n\t\n\tvar geometry = new THREE.PlaneGeometry();\n\tgeometry.rotateX( THREE.Math.degToRad(-90) );\n\tgeometry.translate( 0, 0.01, 0 );\n\n\t\n\tvar material =  new THREE.MeshBasicMaterial( {\n\t\talphaTest: 2/256,\n\t\tcolor: this.options.color,\n\t\topacity : this.options.opacity,\n\t\ttransparent: true,\n\t\tmap : ( this.options.image ) ? Earth.getTexture( this.options.image, this.options.imageResolution, this.options.imageAlphaOnly ) : null,\n\t\tside: THREE.DoubleSide\n\t} );\n\t\n\tmaterial.map.anisotropy = Earth.anisotropy[ this.options.earth.quality ];\n\t\n\tvar sprite = new THREE.Mesh( geometry, material );\n\n\tthis.object3d.add( sprite );\n\t\n};\n\n\n/* <<< */\n\n\n\n/* SPRITE */\n/* >>> */\n\nEarth.Sprite = function( initOptions, thisEarth ) {\n\t\n\tthis.init( initOptions, thisEarth );\n\t\n};\n\t\nObject.assign( Earth.Sprite.prototype, Earth.Marker.prototype );\nObject.defineProperties( Earth.Sprite.prototype, Earth.sharedObjectProperties );\n\n\nEarth.Sprite.prototype.init = function( initOptions, thisEarth ) {\n\t\n\t// default options\n\t\n\tvar defaults = {\n\t\t\n\t\tisSprite : true,\n\t\tearth : thisEarth,\n\t\t\n\t\tlocation : { lat : 0, lng : 0 },\n\t\t\n\t\timage : Earth.defaultImage,\n\t\timageResolution: 128,\n\t\timageAlphaOnly: false,\n\t\t\n\t\toffset: 0,\n\t\tanchorX : 0.5,\n\t\tanchorY : 0.5,\n\t\t\n\t\tcolor: '#FFFFFF',\n\t\t\n\t\tscale : 1,\n\t\tscaleX : 1,\n\t\tscaleY : 1,\n\t\tscaleZ : 1, // private\n\t\tvisible : true,\n\t\t\n\t\thotspot : false,\n\t\thotspotRadius : 0.5,\n\t\thotspotGeometry : 'sprite', // private\n\n\t\trotation : 0,\n\t\trotationX : 0, // private\n\t\trotationY : 0, // private\n\t\trotationZ : 0, // private\n\t\t\n\t\topacity: 1,\n\t\tocclude : true\n\t\t\n\t};\n\t\n\tthis.options = Object.assign(defaults, initOptions);\n\t\n\t\n\tthis.createObject();\n\tthis.createSprite();\n\t\n\t\n\t// set props\n\tObject.assign( this, this.options );\n\n\tthis.ready = true;\n\tthis.update();\n\tthis.updateScale();\n\t\n\tthisEarth.occludables.push( this );\n\t\n\tthis.addEventListener( 'occlusion', function() {\n\t\tvar back = this.occlude && this.occluded;\n\t\t\n\t\t// hotspot\n\t\tif ( this.object3d.material ) {\n\t\t\tthis.object3d.material.depthTest = back;\n\t\t\tthis.object3d.material.depthWrite = ! back;\n\t\t\tthis.object3d.renderOrder = ( back ) ? -5 : 5;\n\t\t}\n\t\t// image\n\t\tthis.object3d.children[0].material.depthTest = back;\n\t\tthis.object3d.children[0].material.depthWrite = ! back;\n\t\tthis.object3d.children[0].renderOrder = ( back ) ? -5 : 5;\n\t} );\t\n\t\n\treturn this;\n\t\n};\n\n\n// private\n// add sprite\n\nEarth.Sprite.prototype.createSprite = function() {\n\t\n\tvar material =  new THREE.SpriteMaterial( {\n\t\talphaTest: 2/256,\n\t\tcolor: this.options.color,\n\t\topacity : this.options.opacity,\n\t\tmap : ( this.options.image ) ? Earth.getTexture( this.options.image, this.options.imageResolution, this.options.imageAlphaOnly ) : null\n\t} );\n\t\n\tvar sprite = new THREE.Sprite( material );\n\n\tthis.object3d.add( sprite );\n\t\n};\n\n\n// PUBLIC\n// properties\n\nObject.defineProperties( Earth.Sprite.prototype, {\n\t\n\trotation: {\n\t\tget: function() {\n\t\t\treturn THREE.Math.radToDeg( this.object3d.material.rotation );\n\t\t},\n\t\tset: function( v ) {\n\t\t\tif ( this.object3d.material ) this.object3d.material.rotation = THREE.Math.degToRad( v );\n\t\t\tthis.object3d.children[0].material.rotation = THREE.Math.degToRad( v );\n\t\t}\n\t}\n\n} );\n\n\n/* <<< */\n\n\n\n\n\n\n/* POINTS */\n/* >>> */\n\nEarth.Points = function( initOptions, thisEarth ) {\n\t\n\tthis.init( initOptions, thisEarth );\n\t\n};\n\t\nObject.assign( Earth.Points.prototype, Earth.Marker.prototype );\n\n\nEarth.Points.prototype.init = function( initOptions, thisEarth ) {\n\t\n\t// default options\n\t\n\tvar defaults = {\n\t\t\n\t\tisPoints : true,\n\t\tearth : thisEarth,\n\t\t\n\t\tpoints : [],\n\t\t\n\t\timage : Earth.defaultImage,\n\t\timageResolution: 128,\n\t\timageAlphaOnly: false,\n\t\t\n\t\tcolor: '#FFFFFF',\n\t\tscale : 1,\n\t\topacity : 1,\n\t\tclip: 1,\t\t\n\t\tvisible : true,\n\t\t\n\t};\n\t\n\tthis.options = Object.assign(defaults, initOptions);\n\t\n\t\n\tthis.createObject();\n\t\n\t\n\t// set props\n\tObject.assign( this, this.options );\n\t\n\t\n\tthis.createPoints();\n\t\n\t\n\tvar thisPoints = this;\n\t\n\tthis.sortOnce = function() {\n\t\tthisPoints.sort();\n\t\tthisEarth.removeEventListener( 'update', this.sortOnce );\n\t};\n\n\tthis.sort = function() {\n\n\t\tvar vector = new THREE.Vector3();\n\n\t\t// model view projection matrix\n\n\t\tvar matrix = new THREE.Matrix4();\n\t\tmatrix.multiplyMatrices( thisEarth.camera.projectionMatrix, thisEarth.camera.matrixWorldInverse );\n\t\tmatrix.multiply( thisPoints.object3d.matrixWorld );\n\n\t\tvar geometry = thisPoints.object3d.children[0].geometry;\n\n\t\tvar index = geometry.getIndex();\n\t\tvar positions = geometry.getAttribute( 'position' ).array;\n\t\tvar length = positions.length / 3;\n\n\t\tif ( index === null ) {\n\n\t\t\tvar array = new Uint16Array( length );\n\n\t\t\tfor ( var i = 0; i < length; i ++ ) {\n\t\t\t\tarray[ i ] = i;\n\t\t\t}\n\n\t\t\tindex = new THREE.BufferAttribute( array, 1 );\n\t\t\tgeometry.setIndex( index );\n\n\t\t}\n\n\t\tvar sortArray = [];\n\n\t\tfor ( var i = 0; i < length; i ++ ) {\n\t\t\tvector.fromArray( positions, i * 3 );\n\t\t\tvector.applyMatrix4( matrix );\n\n\t\t\tsortArray.push( [ vector.z, i ] );\n\t\t}\n\n\t\tfunction numericalSort( a, b ) {\n\t\t\treturn b[ 0 ] - a[ 0 ];\n\t\t}\n\n\t\tsortArray.sort( numericalSort );\n\n\t\tvar indices = index.array;\n\n\t\tfor ( var i = 0; i < length; i ++ ) {\n\t\t\tindices[ i ] = sortArray[ i ][ 1 ];\n\t\t}\n\n\t\tgeometry.index.needsUpdate = true;\n\n\t};\n\t\n\tthis.removeEvents = function() {\n\t\tthisEarth.removeEventListener( 'update', this.sortOnce );\n\t\tthisEarth.removeEventListener( 'change', this.sort );\n\t};\n\t\n\t\n\tthisEarth.addEventListener( 'update', this.sortOnce );\n\tthisEarth.addEventListener( 'change', this.sort );\n\t\n\t\n\tthis.ready = true;\n\t\n\treturn this;\n\t\n};\n\n\n\n// private\n// custom points shader\n\nEarth.Points.prototype.createPointsMaterial = function() {\n\t\n\tvar vertexShaderSource = [\n\t\t'attribute float size;',\n\t\t'attribute vec3 customColor;',\n\t\t'attribute float opacity;',\n\t\t'varying float vAlpha;',\n\t\t'varying vec3 vColor;',\n\t\t'uniform float usize;',\n\t\t'void main() {',\n\t\t'\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );',\n\t\t'\tvColor = customColor;',\n\t\t//'\tvAlpha = opacity * ( 5.0 / ( mvPosition.z * -1.0 - 15.0 ) );',\n\t\t'\tvAlpha = opacity;',\n\t\t'\tgl_PointSize = usize * size * ( 200.0 / -mvPosition.z );',\n\t\t'\tgl_Position = projectionMatrix * mvPosition;',\n\t\t'}'\n\t];\n\t\n\tvar fragmentShaderSource = [\n\t\t'uniform vec3 ucolor;',\n\t\t'uniform float ualpha;',\n\t\t'uniform sampler2D pointTexture;',\n\t\t'varying float vAlpha;',\n\t\t'varying vec3 vColor;',\n\t\t'void main() {',\n\t\t'\tgl_FragColor = vec4( ucolor * vColor, ualpha * vAlpha ) * texture2D( pointTexture, vec2(gl_PointCoord.x, 1.0 - gl_PointCoord.y) );',\n\t\t'}'\n\t];\n\t\n\treturn new THREE.ShaderMaterial({\n\t\tuniforms: {\n\t\t\tucolor: {value: new THREE.Color( this.options.color )},\n\t\t\tualpha: {value: this.options.opacity },\n\t\t\tusize: {value: this.options.scale },\n\t\t\tpointTexture: {value: ( this.options.image ) ? Earth.getTexture( this.options.image, this.options.imageResolution, this.options.imageAlphaOnly ) : null }\n\t\t},\n\t\tvertexShader: vertexShaderSource.join( '\\r\\n' ),\n\t\tfragmentShader: fragmentShaderSource.join( '\\r\\n' ),\n\t\ttransparent: true,\n\t\tdepthWrite : false\n\t});\n\t\n};\n\n\n// private\n// add points\n\nEarth.Points.prototype.createPoints = function() {\n\t\n\tvar geometry = new THREE.BufferGeometry();\n\t\n\tvar data_pos = [];\n\tvar data_scale = [];\n\tvar data_color = [];\n\tvar data_opacity = [];\n\n\tfor ( var i = 0; i < this.points.length; i++ ) {\n\t\t\n\t\tif ( ! this.points[i].location || typeof this.points[i].location.lat == 'undefined' ) this.points[i].location = { lat: 0, lng: 0 };\n\t\t\n\t\tvar p = Earth.latLngToWorld( this.points[i].location, Earth.earthRadius + ((typeof this.points[i].offset != 'undefined') ? this.points[i].offset : 0.1) );\n\t\tdata_pos.push( p.x, p.y, p.z );\n\t\t\n\t\tdata_scale.push( (typeof this.points[i].scale != 'undefined') ? this.points[i].scale : 1 );\n\t\t\n\t\tvar c =  new THREE.Color( this.points[i].color || 0xFFFFFF );\n\t\tdata_color.push( c.r, c.g, c.b );\n\t\t\n\t\tdata_opacity.push( (typeof this.points[i].opacity != 'undefined') ? this.points[i].opacity : 1 );\n\n\t}\n\n\tgeometry.setAttribute( \"position\", new THREE.Float32BufferAttribute( data_pos, 3 ) );\n\tgeometry.setAttribute( \"customColor\", new THREE.Float32BufferAttribute( data_color, 3 ) );\n\tgeometry.setAttribute( \"size\", new THREE.Float32BufferAttribute( data_scale, 1 ) );\n\tgeometry.setAttribute( \"opacity\", new THREE.Float32BufferAttribute( data_opacity, 1 ) );\n\n\tvar material = this.createPointsMaterial();\n\n\tthis.object3d.add( new THREE.Points( geometry, material ) );\n\t\n};\n\n\n// PUBLIC\n// properties\n\nObject.defineProperties( Earth.Points.prototype, {\n\t\n\tvisible : {\n\t\tget: function() {\n\t\t\treturn this.object3d.visible;\n\t\t},\n\t\tset: function( v ) {\n\t\t\tthis.object3d.visible = v;\n\t\t}\n\t},\n\t\n\tscale : {\n\t\tget: function() {\n\t\t\treturn this.options.scale;\n\t\t},\n\t\tset: function( v ) {\n\t\t\tthis.options.scale = v;\n\t\t\tif ( this.ready ) this.object3d.children[0].material.uniforms.usize.value = v;\n\t\t}\n\t},\n\t\n\topacity : {\n\t\tget: function() {\n\t\t\treturn this.options.opacity;\n\t\t},\n\t\tset: function( v ) {\n\t\t\tthis.options.opacity = v;\n\t\t\tif ( this.ready ) this.object3d.children[0].material.uniforms.ualpha.value = v;\n\t\t}\n\t},\n\t\n\tcolor : {\n\t\tget: function() {\n\t\t\treturn this.options.color;\n\t\t},\n\t\tset: function( v ) {\n\t\t\tthis.options.color = v;\n\t\t\tif ( this.ready ) this.object3d.children[0].material.uniforms.ucolor.value = new THREE.Color( v );\n\t\t}\n\t}\n\n} );\n\n\n// PUBLIC\n// remove points\n\nEarth.Points.prototype.remove = function() {\n\t\n\tthis.stopAllAnimations();\n\n\tthis.removeEvents();\n\t\n\tEarth.dispose( this.object3d );\n\tthis.earth.scene.remove( this.object3d );\n\tthis.removed = true;\n\t\n};\n\n\n/* <<< */\n\n\n\n\n\n\n/* LINE */\n/* >>> */\n\nEarth.Line = function( initOptions, thisEarth ) {\n\t\n\t// default options\n\t\n\tvar defaults = {\n\t\t\n\t\tisLine : true,\n\t\tearth : thisEarth,\n\t\t\n\t\tlocations : [],\n\t\t\n\t\toffset : 0.01,\n\t\toffsetFlow : 0,\n\t\toffsetEasing : 'arc',\n\n\t\thairline: false,\n\t\twidth: 1,\n\t\tendWidth : -1,\n\t\tclip: 1,\n\t\t\n\t\tdashed : false,\n\t\tdashSize : 0.5,\n\t\tdashRatio : 0.5,\n\t\tdashOffset: 0,\n\t\t\n\t\tcolor: '#FF0000',\n\t\topacity: 1,\n\t\tvisible : true,\n\t\talwaysBehind : false,\n\t\talwaysOnTop : false,\n\t\ttransparent: ( ( ! initOptions.hairline && initOptions.dashed ) || typeof initOptions.opacity != 'undefined' ) ,\n\t\t\n\t};\n\t\n\tthis.options = Object.assign(defaults, initOptions);\n\tthis.lineLength = 0;\n\t\n\t// create object\n\n\tif ( this.options.hairline ) { // native gl line\t\n\t\n\t\tthis.object3d = new THREE.Line();\n\t\tthis.object3d.material  = new THREE[ ( this.options.dashed ) ? 'LineDashedMaterial' : 'LineBasicMaterial' ]();\n\t\n\t} else {\n\t\t\n\t\tthis.object3d = new THREE.Mesh();\n\t\tthis.meshLine = new Earth.MeshLine();\n\t\tthis.object3d.geometry = this.meshLine.geometry;\n\t\tthis.lineGeometry = new THREE.BufferGeometry();\n\t\tthis.object3d.material = new Earth.MeshLineMat();\n\t\n\t}\n\t\n\n\tthisEarth.scene.add( this.object3d );\n\t\n\t\n\t// set props\n\t\n\tObject.assign( this, this.options );\n\t\n\t\n\tthis.ready = true;\n\tthis.updatePoints();\n\n\treturn this;\n\t\n};\n\n\n// PUBLIC\n// properties\n\nObject.defineProperties( Earth.Line.prototype, {\n\t\n\twidth : {\n\t\tget: function() {\n\t\t\treturn this.options.width;\n\t\t},\n\t\tset: function( v ) {\n\t\t\tthis.options.width = v;\n\t\t\tif ( ! this.options.hairline ) {\n\t\t\t\tthis.object3d.material.uniforms.lineWidth.value = v / 10;\n\t\t\t\tif ( this.ready ) this.updateGeometry();\n\t\t\t}\n\t\t}\n\t},\n\tendWidth : {\n\t\tget: function() {\n\t\t\treturn ( this.options.endWidth == -1 ) ? this.options.width : this.options.endWidth;\n\t\t},\n\t\tset: function( v ) {\n\t\t\tthis.options.endWidth = v;\n\t\t\tif ( ! this.options.hairline ) {\n\t\t\t\tif ( this.ready ) this.updateGeometry();\n\t\t\t}\n\t\t}\n\t},\n\t\n\n\tdashSize : {\n\t\tget: function() {\n\t\t\treturn this.options.dashSize;\n\t\t},\n\t\tset: function( v ) {\n\t\t\tthis.options.dashSize = v;\n\t\t\tif ( this.options.hairline ) {\n\t\t\t\tthis.object3d.material.dashSize = v;\n\t\t\t} else {\n\t\t\t\tif ( this.ready ) this.updateDash();\n\t\t\t}\n\t\t}\n\t},\n\tdashRatio : {\n\t\tget: function() {\n\t\t\treturn this.options.dashRatio;\n\t\t},\n\t\tset: function( v ) {\n\t\t\tthis.options.dashRatio = Math.min(1, Math.max(0, v));\n\t\t\tif ( this.options.hairline ) {\n\t\t\t\tthis.object3d.material.gapSize = this.options.dashSize * v * 2;\n\t\t\t} else {\n\t\t\t\tthis.object3d.material.uniforms.dashRatio.value = v;\n\t\t\t}\n\t\t}\n\t},\t\n\tdashOffset : {\n\t\tget: function() {\n\t\t\treturn this.options.dashOffset;\n\t\t},\n\t\tset: function( v ) {\n\t\t\tthis.options.dashOffset = v;\n\t\t\tif ( ! this.options.hairline ) {\n\t\t\t\tthis.object3d.material.uniforms.dashOffset.value = v;\n\t\t\t}\n\t\t}\n\t},\n\t\n\tcolor : {\n\t\tget: function() {\n\t\t\treturn this.options.color;\n\t\t},\n\t\tset: function( v ) {\n\t\t\tthis.options.color = v;\n\t\t\tif ( this.options.hairline ) {\n\t\t\t\tthis.object3d.material.color = new THREE.Color( v );\n\t\t\t} else {\n\t\t\t\tthis.object3d.material.uniforms.color.value = new THREE.Color( v );\n\t\t\t}\n\t\t}\n\t},\t\n\topacity : {\n\t\tget: function() {\n\t\t\treturn this.options.opacity;\n\t\t},\n\t\tset: function( v ) {\n\t\t\tthis.options.opacity = v;\n\t\t\tif ( this.options.hairline ) {\n\t\t\t\tthis.object3d.material.opacity = v;\n\t\t\t} else {\n\t\t\t\tthis.object3d.material.uniforms.opacity.value = v;\n\t\t\t}\n\t\t}\n\t},\n\tvisible : {\n\t\tget: function() {\n\t\t\treturn this.object3d.visible;\n\t\t},\n\t\tset: function( v ) {\n\t\t\tthis.object3d.visible = v;\n\t\t}\n\t},\n\n\talwaysBehind: {\n\t\tget: function() {\n\t\t\treturn ! this.object3d.material.depthWrite;\n\t\t},\n\t\tset: function( v ) {\n\t\t\tthis.object3d.material.depthWrite = ! v;\n\t\t\tthis.object3d.renderOrder = ( v ) ? -1 : 0;\n\t\t}\n\t},\n\t\n\ttransparent : {\n\t\tget: function() {\n\t\t\treturn this.object3d.material.transparent;\n\t\t},\n\t\tset: function( v ) {\n\t\t\tthis.object3d.material.transparent = v;\n\t\t}\n\t},\n\t\n\tclip : {\n\t\tget: function() {\n\t\t\treturn this.options.clip;\n\t\t},\n\t\tset: function( v ) {\n\t\t\tthis.options.clip = Math.min(1, Math.max(0, v));\n\t\t\tif ( this.ready ) this.updateClip();\n\t\t}\n\t},\n\t\n\toffset : {\n\t\tget: function() {\n\t\t\treturn this.options.offset;\n\t\t},\n\t\tset: function( v ) {\n\t\t\tthis.options.offset = v;\n\t\t\tif ( this.ready ) this.updatePoints();\n\t\t}\n\t},\n\toffsetFlow : {\n\t\tget: function() {\n\t\t\treturn this.options.offsetFlow;\n\t\t},\n\t\tset: function( v ) {\n\t\t\tthis.options.offsetFlow = v;\n\t\t\tif ( this.ready ) this.updatePoints();\n\t\t}\n\t},\n\t\n\tlocations : {\n\t\tget: function() {\n\t\t\treturn this.options.locations;\n\t\t},\n\t\tset: function( v ) {\n\t\t\tfor ( var i=0; i < v.length; i++ ) {\n\t\t\t\tv[i] = Earth.formatLatLng( v[i] );\n\t\t\t}\n\t\t\tthis.options.locations = v;\n\t\t\tif ( this.ready ) this.updatePoints();\n\t\t}\n\t},\n\t\n});\n\n\n// private\n// update line segment positions\n\nEarth.Line.prototype.updatePoints = function() {\n\t\n\tthis.points = [];\n\t\n\tif (  this.locations.length ) {\n\t\tvar fromPos = Earth.latLngToWorld( this.locations[0], Earth.earthRadius + this.offset );\n\t\t\n\t\tfor ( var i = 1; i < this.locations.length; i++ ) {\n\t\t\n\t\t\tvar toPos = Earth.latLngToWorld( this.locations[i], Earth.earthRadius + this.offset );\n\n\t\t\tvar subdevisions = Math.ceil( Math.sqrt( ( 1 + fromPos.distanceTo(toPos) ) * this.earth.quality ) );\n\n\t\t\tthis.points.pop();\n\t\t\tthis.points = this.points.concat( Earth.getPathPoints( fromPos, toPos, subdevisions, this.offset, this.offsetFlow, this.offsetEasing ) );\n\t\t\t\n\t\t\tfromPos = toPos;\n\t\t\t\n\t\t}\n\t}\n\t\n\tthis.updateGeometry();\n\t\n};\n\n\n// private\n// update line geometry\n\nEarth.Line.prototype.updateGeometry = function() {\n\t\n\tif ( this.hairline ) {\n\t\t\n\t\tthis.object3d.geometry.setFromPoints( this.points );\n\t\n\t} else {\n\t\t\n\t\tthis.lineGeometry.vertices = this.points;\n\t\t\n\t\tvar thisLine = this;\n\t\tthis.meshLine.setGeometry( this.lineGeometry, function( p ) {\n\t\t\tif ( thisLine.endWidth == -1 ) return 1;\n\t\t\tp *= thisLine.clip; // to complete path\n\t\t\treturn THREE.Math.lerp( thisLine.width, thisLine.endWidth, p ) / thisLine.width;\n\t\t} );\n\t\t\n\t\tif ( this.dashed ) this.lineLength = Earth.getLineDistance( this.points );\n\t\t\n\t}\n\t\n\tthis.updateClip();\n\t\n\tthis.updateDash();\n\n};\n\n\n// private\n// handle clip property\n\nEarth.Line.prototype.updateClip = function() {\n\t\n\tif ( this.clip < 1 ) {\n\t\tthis.object3d.geometry.setDrawRange( 0, Math.round( this.points.length * this.clip ) * ( this.hairline ? 1 : 6 ) );\n\t} else {\n\t\tthis.object3d.geometry.setDrawRange( 0, Infinity );\n\t}\n\t\n};\n\n\n// private\n// handle dashed property\n\nEarth.Line.prototype.updateDash = function( options ) {\n\t\n\tif ( ! this.dashed ) return;\n\t\n\tif ( this.hairline ) {\n\t\tthis.object3d.computeLineDistances();\n\t} else {\n\t\tthis.object3d.material.uniforms.useDash.value = 1;\n\t\tthis.object3d.material.uniforms.dashArray.value = 1 / this.lineLength * this.dashSize * 3;\n\t}\n\t\n};\n\n\n// private\n// remove line\n\nEarth.Line.prototype.remove = function() {\n\t\n\tthis.stopAllAnimations();\n\t\n\tEarth.dispose( this.object3d );\n\tthis.earth.scene.remove( this.object3d );\n\tthis.removed = true;\n\t\n};\n\n/* <<< */\n\n\n\n/* OVERLAY */\n\nEarth.Overlay = function( initOptions, thisEarth ) {\n\t\n\t// default options\n\t\n\tvar defaults = {\n\t\t\n\t\tisOverlay: true,\n\t\tearth: thisEarth,\n\t\t\n\t\tlocation : { lat : 0, lng : 0 },\n\t\toffset : 0,\n\t\t\n\t\tcontent : '',\n\t\tclassName : '',\n\t\t\n\t\tvisible : true,\n\t\tocclude : true,\n\t\t\n\t\tcontainerScale : 0,\n\t\tzoomScale : 1,\n\t\tdepthScale : 0\n\t\t\n\t};\n\t\n\tthis.options = Object.assign(defaults, initOptions);\n\t\n\tthis.ready = false;\n\t\n\t\n\t// create overlay\n\t\n\tvar div = document.createElement( 'div' );\t\n\tthisEarth.element.appendChild( div );\n\tdiv.overlay = this;\n\tthis.element = div;\n\tthis.element.className = 'earth-overlay';\n\t\n\t// inner wrap\n\tthis.element.appendChild( document.createElement( 'div' ) );\n\t\n\t\n\tthisEarth.overlays.push( this );\n\t\n\t\n\t// set props\n\tObject.assign(this, this.options);\n\n\treturn this;\n\t\n};\n\nObject.assign( Earth.Overlay.prototype, Earth.ClassicEventDispatcher.prototype );\n\n\n// PUBLIC\n// properties\n\nObject.defineProperties( Earth.Overlay.prototype, {\n\t\n\tlocation : {\n\t\tget: function() {\n\t\t\treturn this.options.location;\n\t\t},\n\t\tset: function( v ) {\n\t\t\tthis.options.location = Earth.formatLatLng(v);\n\t\t}\n\t},\n\t\n\tcontent : {\n\t\tget: function() {\n\t\t\treturn this.element.firstChild.innerHTML;\n\t\t},\n\t\tset: function( v ) {\n\t\t\tthis.element.firstChild.innerHTML = v;\n\t\t}\n\t},\n\t\n\tclassName : {\n\t\tget: function() {\n\t\t\treturn this.element.firstChild.className;\n\t\t},\n\t\tset: function( v ) {\n\t\t\tthis.element.firstChild.className = v;\n\t\t}\n\t},\n\t\n\tvisible : {\n\t\tget: function() {\n\t\t\treturn this.options.visible;\n\t\t},\n\t\tset: function( v ) {\n\t\t\tthis.options.visible = v;\n\t\t\tthis.element.style.display = ( v && this.ready ) ? 'block' : 'none';\n\t\t}\n\t},\n\t\n\tocclude : {\n\t\tget: function() {\n\t\t\treturn this.options.occlude;\n\t\t},\n\t\tset: function( v ) {\n\t\t\tthis.options.occlude = v;\n\t\t}\n\t}\n\t\n});\n\n\n// PUBLIC\n// remove overlay\n\nEarth.Overlay.prototype.remove = function() {\n\t\n\tthis.stopAllAnimations();\n\t\n\tthis.earth.element.removeChild( this.element );\n\tthis.removed = true;\n\n\tvar objIndex = this.earth.overlays.indexOf( this );\n\tif ( objIndex == -1 ) return; // already removed\n\tthis.earth.overlays.splice( objIndex , 1 );\n\t\n};\n\n\n\n/* OCCLUDABLE */\n// private\n\nEarth.Occludable = function() {};\n\nEarth.Occludable.prototype.updatePositions = function() {\n\tif ( this.isOverlay ) {\n\t\tvar world_pos = Earth.latLngToWorld( this.location, Earth.earthRadius + this.offset );\n\t} else {\n\t\tvar world_pos = this.object3d.position;\n\t}\n\tthis.elementPosition = Earth.worldToElement( world_pos, this.earth.elementSize, this.earth.camera );\n\tthis.distance = this.earth.camera.position.distanceTo( world_pos );\t\t\t\n\t\n};\n\nEarth.Occludable.prototype.updateOcclusion = function() {\n\t\n\tif ( this.distance < this.earth.camera.position.length() ) { // between earth and camera\t\n\t\tvar occluded = false;\n\t\t\n\t} else {\n\t\tvar occluded = this.earth.elementCenter.distanceTo( this.elementPosition ) < this.earth.radius;\n\t\t\n\t}\n\t\n\t// check for change and dispatch event\n\tif ( typeof this.occluded == 'undefined' || this.occluded != occluded ) {\n\t\tthis.occluded = occluded;\n\t\tthis.dispatchEvent( { type: 'occlusion' } );\n\t}\n\t\n};\n\nObject.assign( Earth.Marker.prototype, Earth.Occludable.prototype );\nObject.assign( Earth.Image.prototype, Earth.Occludable.prototype );\nObject.assign( Earth.Sprite.prototype, Earth.Occludable.prototype );\nObject.assign( Earth.Overlay.prototype, Earth.Occludable.prototype );\n\n\n\n/* ANIMATION */\n\nEarth.Animation = function( options ) {\n\t\n\tObject.assign(this, options);\t\n\tthis.earth.animations.push( this );\n\treturn this;\n\n};\n\n/* >>> */\n\n\n// PUBLIC\n// remove animation\n\nEarth.Animation.prototype.stop = function( dispatchComplete, jumpToEnd ) {\n\t\n\tif ( jumpToEnd ) {\n\t\tthis.time = this.duration;\n\t\tthis.step( 1 );\n\t}\n\t\n\tthis.dispatchEvents( dispatchComplete );\n\t\n\tvar aniIndex = this.earth.animations.indexOf( this );\n\tif ( aniIndex == -1 ) return; // not found\n\t\n\tthis.earth.animations.splice( aniIndex , 1 );\n\t\n};\n\n\n// private\n// call end / complete handlers\n\nEarth.Animation.prototype.dispatchEvents = function( dispatchComplete ) {\n\t\n\tif ( this._end ) { // internal use\n\t\tthis._end.bind( this.target )( this );\n\t}\n\t\n\tif ( typeof this.end == 'function' ) {\n\t\tthis.end.bind( this.target )( this );\n\t}\n\t\n\tif ( typeof this.complete == 'function' && dispatchComplete && ! this.target.removed ) {\n\t\tthis.complete.bind( this.target )( this );\n\t}\n\t\n};\n\n/* <<< */\n\nEarth.Animation.Easing = {\n\t\n\t'linear' : \t\tfunction (t) { return t },\n\t\n\t'in-quad' : \tfunction (t) { return t*t },\n\t'out-quad' : \tfunction (t) { return t*(2-t); },\n\t'in-out-quad' : function (t) { return t<.5 ? 2*t*t : -1+(4-2*t)*t },\n\t\n\t'in-cubic' : \tfunction (t) { return t*t*t },\n\t'out-cubic' : \tfunction (t) { return (--t)*t*t+1 },\n\t'in-out-cubic' :function (t) { return t<.5 ? 4*t*t*t : (t-1)*(2*t-2)*(2*t-2)+1 },\n\t\n\t'in-quart' :\tfunction (t) { return t*t*t*t },\n\t'out-quart' :\tfunction (t) { return 1-(--t)*t*t*t },\n\t'in-out-quart': function (t) { return t<.5 ? 8*t*t*t*t : 1-8*(--t)*t*t*t },\n\t\n\t'in-back' :\t\tfunction (t) { return t*t*(2.70158*t - 1.70158); },\n\t'out-back' :\tfunction (t) { return (t=t-1)*t*(2.70158*t + 1.70158) + 1; },\n\t'in-out-back' :\tfunction (t) {\n\t\tvar s = 1.70158;\n\t\tif ((t/=0.5) < 1) return 0.5*(t*t*(((s*=(1.525))+1)*t - s));\n\t\treturn 0.5*((t-=2)*t*(((s*=(1.525))+1)*t + s) + 2);\n\t},\n\t\n\t'elastic' : function (t) {\n\t\tvar p=.3;\n\t\tif (t==0) return 0; if (t==1) return 1;\n\t\tvar s = p/(2*Math.PI) * Math.asin (1);\n\t\treturn Math.pow(2,-10*t) * Math.sin( (t-s)*(2*Math.PI)/p ) + 1;\n\t},\n\t\n\t'bounce' : function (t) {\n\t\tif (t < (1/2.75)) {\n\t\t\treturn (7.5625*t*t);\n\t\t} else if (t < (2/2.75)) {\n\t\t\treturn (7.5625*(t-=(1.5/2.75))*t + .75);\n\t\t} else if (t < (2.5/2.75)) {\n\t\t\treturn (7.5625*(t-=(2.25/2.75))*t + .9375);\n\t\t} else {\n\t\t\treturn (7.5625*(t-=(2.625/2.75))*t + .984375);\n\t\t}\n\t},\n\t\n\t'arc' : function(t) {\n\t\treturn t<.5 ? this['out-quad'](t*2) : this['out-quad'](2 - t*2);\n\t}\n\t\n};\n\n\n\n/* ANIMATABLE */\n\n/* >>> */\n\nEarth.Animatable = function() {};\n\nEarth.Animatable.colorProp  = [ 'color', 'color2', 'color3', 'color4', 'color5', 'color6', 'color7', 'color8', 'lightColor', 'lightGroundColor' ];\nEarth.Animatable.latlngProp = [ 'location', 'sunLocation' ];\nEarth.Animatable.angleProp  = [ 'lookAt' ];\n\n\n// PUBLIC\n// start object animation\n\nEarth.Animatable.prototype.animate = function( prop, val, options ) {\n\t\n\tvar ani = {\n\t\ttarget: this,\n\t\tearth: (this.isEarth) ? this : this.earth,\n\t\tprop: prop,\n\t\tval: val,\n\t\ttime : 0,\n\t\tduration : 400,\n\t\trelativeDuration : 0,\n\t\teasing : 'in-out-quad',\n\t\tlerpLatLng : false,\n\t\tloop : false,\n\t\toscillate : false,\n\t\tpaused : false\n\t};\n\t\n\tObject.assign( ani , options );\n\t\n\t\n\t// value type for lerp\n\t\n\tif ( Earth.Animatable.colorProp.indexOf( ani.prop ) != -1  ) {\n\t\tani.type = 'color';\n\t\tani.from = new THREE.Color( this[ ani.prop ] );\n\t\tani.to = new THREE.Color( ani.val );\n\t\t\n\t} else if ( Earth.Animatable.latlngProp.indexOf( ani.prop ) != -1 ) {\n\t\tani.type = 'latlng';\n\t\tani.from = Earth.formatLatLng( Object.assign( {}, this[ ani.prop ] ) );\n\t\tani.to =  Earth.formatLatLng( Object.assign( {}, ani.val ) );\t\t\n\t\t\n\t} else if ( Earth.Animatable.angleProp.indexOf( ani.prop ) != -1 ) {\n\t\tthis.options.lookAt = Earth.formatLatLng( Object.assign( {}, ani.val ) );\n\t\tani.type = 'angle';\n\t\tani.from = this.lookAngle;\n\t\tani.to = this.getLocalAngle( this.object3d.position, this.getQuaternion(), Earth.latLngToWorld( this.options.lookAt, Earth.earthRadius ) );\n\t\tani.prop = 'lookAngle';\n\n\t} else {\n\t\tani.type = 'number';\n\t\tani.from = this[ ani.prop ];\n\t\tani.to = ani.val;\n\t\t\n\t}\n\t\n\t\n\t// ani duration\n\t\n\tif ( ani.relativeDuration ) {\n\t\t\n\t\tif ( ani.type == 'number' ) {\n\t\t\tani.duration += Math.abs( ani.from - ani.to ) * ani.relativeDuration;\n\t\t\t\n\t\t} else if ( ani.type == 'color' ) {\n\t\t\tani.duration += ( Math.abs( ani.from.r - ani.to.r ) + Math.abs( ani.from.g - ani.to.g ) + Math.abs( ani.from.b - ani.to.b ) ) / 3 * ani.relativeDuration;\n\t\t\t\n\t\t} else if ( ani.type == 'latlng' ) {\n\t\t\tani.duration += Earth.getDistance( ani.from, ani.to ) / 1000 * ani.relativeDuration;\n\t\t\t\n\t\t} else if ( ani.type == 'angle' ) {\n\t\t\tani.duration += Math.abs( Earth.wrap( ani.from, 0, 2 * Math.PI ) - Earth.wrap( ani.to, 0, 2 * Math.PI ) ) * ani.relativeDuration;\n\t\t\t\n\t\t}\n\t\t\n\t}\n\t\n\n\tani.step = function( t ) {\n\t\t\t\n\t\tt = Earth.Animation.Easing[ this.easing ]( t );\n\t\t\n\t\tif ( this.type == 'number' ) {\n\t\t\tani.target[ this.prop ] = THREE.Math.lerp( this.from, this.to, t );\n\t\t\t\n\t\t} else if ( this.type == 'color' ) {\n\t\t\tani.target[ this.prop ] = this.from.clone().lerp( this.to, t );\t\n\t\t\t\n\t\t} else if ( this.type == 'latlng' ) {\n\t\t\tani.target[ this.prop ] = Earth.lerp( this.from, this.to, t, ani.lerpLatLng );\n\t\t\t\n\t\t} else if ( this.type == 'angle' ) {\n\t\t\tani.target[ this.prop ] = Earth.lerpAngle( this.from, this.to, t );\n\t\t}\n\t\t\n\t};\n\t\n\t\n\treturn new Earth.Animation( ani );\n\n};\n\n\n// PUBLIC\n// stop all animations\n\nEarth.Animatable.prototype.stopAllAnimations = function( dispatchComplete, jumpToEnd ) {\n\n\tvar stop_animations = [];\n\t\n\tfor ( var i=0; i < this.earth.animations.length; i++ ) {\n\t\tif ( this.earth.animations[i].target == this ) stop_animations.push( this.earth.animations[i] );\n\t}\n\t\n\tfor ( var i in stop_animations ) {\n\t\tstop_animations[i].stop( dispatchComplete, jumpToEnd );\n\t}\n\t\n};\n\nObject.assign( Earth.prototype, Earth.Animatable.prototype );\nObject.assign( Earth.Marker.prototype, Earth.Animatable.prototype );\nObject.assign( Earth.Image.prototype, Earth.Animatable.prototype );\nObject.assign( Earth.Sprite.prototype, Earth.Animatable.prototype );\nObject.assign( Earth.Points.prototype, Earth.Animatable.prototype );\nObject.assign( Earth.Line.prototype, Earth.Animatable.prototype );\nObject.assign( Earth.Overlay.prototype, Earth.Animatable.prototype );\n\n/* <<< */\n\n\n/* ORBIT */\n// private\n// based on THREE.OrbitControls\n\nEarth.Orbit = function ( camera, earth ) {\n\n\tthis.camera = camera;\n\tthis.earth = earth;\n\n\tthis.enableRotate = true;\n\tthis.enableZoom = true;\n\tthis.zoomSpeed = 1.0;\n\n\n\t// How far you can dolly in and out ( PerspectiveCamera only )\n\tthis.minDistance = 0;\n\tthis.maxDistance = Infinity;\n\n\t// How far you can orbit vertically, upper and lower limits.\n\t// Range is 0 to Math.PI radians.\n\tthis.minPolarAngle = 0; // radians\n\tthis.maxPolarAngle = Math.PI; // radians\n\n\t// automatically rotate\n\tthis.autoRotateSpeed = 0; \n\tthis.autoRotateSpeedUp = 0;\n\n\n\t// public methods\n\n\tthis.setPosition = function ( pos ) {\n\t\t\n\t\tscope.camera.position.copy( pos );\n\n\t\tscope.camera.updateProjectionMatrix();\n\t\tscope.update();\n\t\t\n\t\tstate = STATE.NONE;\n\t\t\n\t\tscope.dispatchEvent( changeEvent );\n\n\t};\n\t\n\t\n\tthis.cancel = function () {\n\t\tonMouseUp();\t\t\n\t};\n\t\n\t\n\tthis.update = function ( ) {\n\n\t\tvar offset = new THREE.Vector3();\n\n\t\t// so camera.up is the orbit axis\n\t\tvar quat = new THREE.Quaternion().setFromUnitVectors( camera.up, new THREE.Vector3( 0, 1, 0 ) );\n\t\tvar quatInverse = quat.clone().invert();\n\n\t\tvar lastPosition = new THREE.Vector3();\n\t\tvar lastQuaternion = new THREE.Quaternion();\n\t\t\n\n\t\treturn function update( ) {\n\n\t\t\tvar position = scope.camera.position;\n\n\t\t\toffset.copy( position );\n\t\t\t// rotate offset to \"y-axis-is-up\" space\n\t\t\toffset.applyQuaternion( quat );\n\n\t\t\t// angle from z-axis around y-axis\n\t\t\tspherical.setFromVector3( offset );\n\t\t\t\n\n\t\t\tif ( state == STATE.NONE && scope.autoRotateSpeed != 0 ) {\n\t\t\t\trotateLeft( getAutoRotationAngle() * earth.deltaTime / 30 );\n\t\t\t}\n\t\t\t\n\t\t\tif ( state == STATE.NONE && scope.autoRotateSpeedUp != 0 ) {\n\t\t\t\trotateUp( getAutoRotationAngleY() * earth.deltaTime / 30 );\n\t\t\t}\n\t\t\t\n\n\t\t\tspherical.theta += sphericalDelta.theta;\n\t\t\tspherical.phi += sphericalDelta.phi;\n\t\t\t\n\t\n\t\t\t// restrict phi to be between desired limits\n\t\t\tspherical.phi = Math.max( scope.minPolarAngle, Math.min( scope.maxPolarAngle, spherical.phi ) );\n\n\t\t\tspherical.makeSafe();\n\t\t\t\n\n\t\t\tspherical.radius *= scale;\n\n\t\t\t// restrict radius to be between desired limits\n\t\t\tspherical.radius = Math.max( scope.minDistance, Math.min( scope.maxDistance, spherical.radius ) );\n\t\t\t\n\t\t\t\n\t\t\toffset.setFromSpherical( spherical );\n\n\t\t\t// rotate offset back to \"camera-up-vector-is-up\" space\n\t\t\toffset.applyQuaternion( quatInverse );\n\t\t\t\n\n\t\t\tposition.copy( offset );\n\n\t\t\tscope.camera.lookAt( 0, 0, 0 );\n\n\t\t\tsphericalDelta.set( 0, 0, 0 );\n\n\t\t\tscale = 1;\n\t\t\t\n\n\t\t\t// has changed?\n\n\t\t\tif ( zoomChanged ||\n\t\t\t\tlastPosition.distanceToSquared( scope.camera.position ) > EPS ||\n\t\t\t\t8 * ( 1 - lastQuaternion.dot( scope.camera.quaternion ) ) > EPS ) {\n\n\t\t\t\tscope.dispatchEvent( changeEvent );\n\n\t\t\t\tlastPosition.copy( scope.camera.position );\n\t\t\t\tlastQuaternion.copy( scope.camera.quaternion );\n\t\t\t\tzoomChanged = false;\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\t\t\treturn false;\n\n\t\t};\n\n\t}();\n\n\n\tthis.dispose = function () {\n\n\t\tscope.earth.canvas.removeEventListener( 'mousedown', onMouseDown, false );\n\t\tscope.earth.canvas.removeEventListener( 'wheel', onMouseWheel, false );\n\n\t\tscope.earth.canvas.removeEventListener( 'touchstart', onTouchStart, false );\n\t\tscope.earth.canvas.removeEventListener( 'touchend', onTouchEnd, false );\n\t\tdocument.removeEventListener( 'touchmove', onTouchMove, false );\n\n\t\tdocument.removeEventListener( 'mousemove', onMouseMove, false );\n\t\tdocument.removeEventListener( 'mouseup', onMouseUp, false );\n\n\t};\n\n\t\n\t// internals\n\n\tvar scope = this;\n\n\tvar changeEvent = { type: 'change' };\n\tvar startEvent = { type: 'start' };\n\tvar endEvent = { type: 'end' };\n\n\tvar STATE = { NONE: - 1, ROTATE: 0, TOUCHZOOM: 1 };\n\tvar state = STATE.NONE;\n\n\tvar EPS = 0.000001;\n\n\t// current position in spherical coordinates\n\tvar spherical = new THREE.Spherical();\n\tvar sphericalDelta = new THREE.Spherical();\n\n\tvar scale = 1;\n\tvar zoomChanged = false;\n\n\tvar rotateStart = new THREE.Vector2();\n\tvar rotateEnd = new THREE.Vector2();\n\tvar rotateDelta = new THREE.Vector2();\n\t\n\tvar dollyStart = new THREE.Vector2();\n\tvar dollyEnd = new THREE.Vector2();\n\tvar dollyDelta = new THREE.Vector2();\n\n\t\n\tfunction getAutoRotationAngle() {\n\t\treturn 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n\t}\n\tfunction getAutoRotationAngleY() {\n\t\treturn 2 * Math.PI / 60 / 60 * scope.autoRotateSpeedUp;\n\t}\n\t\n\tfunction getZoomScale() {\n\t\treturn Math.pow( 0.95, scope.zoomSpeed );\n\t}\n\n\tfunction rotateLeft( angle ) {\n\t\tsphericalDelta.theta -= angle;\n\t}\n\tfunction rotateUp( angle ) {\n\t\tsphericalDelta.phi -= angle;\n\t}\n\n\tfunction dollyIn( dollyScale ) {\n\t\tscale /= dollyScale;\n\t}\n\tfunction dollyOut( dollyScale ) {\n\t\tscale *= dollyScale;\n\t}\n\n\t\n\t\n\t// event callbacks - update the object state\n\n\tfunction handleMouseDownRotate( event ) {\n\t\t\n\t\trotateStart = Earth.getEventPosition( event );\n\t\t\n\t}\n\n\tfunction handleMouseMoveRotate( event ) {\n\n\t\trotateEnd = Earth.getEventPosition( event );\n\t\t\n\t\tvar earthRadiusPx = scope.earth.elementSize.y / 2 * 0.75 * scope.earth.zoom;\n\t\t\n\t\tvar mouseCenterOffset = Earth.mouseCenterOffset( rotateEnd, scope.earth, earthRadiusPx );\n\t\tmouseCenterOffset = Earth.Animation.Easing['in-cubic']( mouseCenterOffset );\n\t\n\t\tvar speed = 0.75 / earthRadiusPx;\n\t\t\n\t\t// compensate earth's curvature \n\t\tspeed *= 1 + mouseCenterOffset * 0.85;\n\t\t\n\t\trotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( speed );\n\t\t\n\t\trotateLeft( rotateDelta.x );\n\t\trotateUp( rotateDelta.y );\n\n\t\trotateStart.copy( rotateEnd );\n\t\tscope.update();\n\n\t}\n\t\n\n\tfunction handleMouseWheel( event ) {\n\n\t\tif ( event.deltaY < 0 ) {\n\t\t\tdollyOut( getZoomScale() );\n\t\t} else if ( event.deltaY > 0 ) {\n\t\t\tdollyIn( getZoomScale() );\n\t\t}\n\n\t\tscope.update();\n\n\t}\n\n\t\n\tfunction handleTouchStartDollyPan( event ) {\n\n\t\tif ( scope.enableZoom ) {\n\n\t\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n\t\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\t\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\n\t\t\tdollyStart.set( 0, distance );\n\n\t\t}\n\n\t}\n\t\n\tfunction handleTouchMoveDollyPan( event ) {\n\n\t\tif ( scope.enableZoom ) {\n\n\t\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n\t\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\t\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\t\tdollyEnd.set( 0, distance );\n\t\t\tdollyDelta.set( 0, Math.pow( dollyEnd.y / dollyStart.y, scope.zoomSpeed ) );\n\t\t\tdollyIn( dollyDelta.y );\n\t\t\tdollyStart.copy( dollyEnd );\n\t\t\tscope.update();\n\t\t\n\t\t}\n\n\t}\n\n\n\t// event handlers\n\n\tfunction onMouseDown( event ) {\n\n\t\tevent.preventDefault();\n\n\t\tswitch ( event.button ) {\n\n\t\t\tcase THREE.MOUSE.LEFT:\n\n\t\t\t\tif ( scope.enableRotate === false ) return;\n\t\t\t\thandleMouseDownRotate( event );\n\t\t\t\tstate = STATE.ROTATE;\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tif ( state !== STATE.NONE ) {\n\t\t\tdocument.addEventListener( 'mousemove', onMouseMove, false );\n\t\t\tdocument.addEventListener( 'mouseup', onMouseUp, false );\n\t\t\tscope.dispatchEvent( startEvent );\n\t\t}\n\n\t}\n\n\tfunction onMouseMove( event ) {\n\n\t\tevent.preventDefault();\n\n\t\tswitch ( state ) {\n\n\t\t\tcase STATE.ROTATE:\n\n\t\t\t\tif ( ! scope.enableRotate ) return;\n\t\t\t\thandleMouseMoveRotate( event );\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\tfunction onMouseUp( event ) {\n\n\t\tdocument.removeEventListener( 'mousemove', onMouseMove, false );\n\t\tdocument.removeEventListener( 'mouseup', onMouseUp, false );\n\t\tscope.dispatchEvent( endEvent );\n\t\tstate = STATE.NONE;\n\n\t}\n\n\tfunction onMouseWheel( event ) {\n\n\t\tif ( ! scope.enableZoom ) return;\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\thandleMouseWheel( event );\n\n\t}\n\n\n\tfunction onTouchStart( event ) {\n\n\t\tevent.preventDefault();\n\n\t\tswitch ( event.touches.length ) {\n\n\t\t\tcase 1:\t// one-fingered touch: rotate\n\n\t\t\t\tif ( scope.enableRotate === false ) return;\n\t\t\t\thandleMouseDownRotate( event );\n\t\t\t\tstate = STATE.ROTATE;\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\t// two-fingered touch: dolly-pan\n\n\t\t\t\tif ( scope.enableZoom === false ) return;\n\t\t\t\thandleTouchStartDollyPan( event );\n\t\t\t\tstate = STATE.TOUCHZOOM;\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t\tif ( state !== STATE.NONE ) {\n\t\t\tscope.dispatchEvent( startEvent );\n\t\t}\n\n\t}\n\n\tfunction onTouchMove( event ) {\n\n\t\t//event.preventDefault(); // removed because of chrome console warning\n\t\tevent.stopPropagation();\n\n\t\tswitch ( event.touches.length ) {\n\n\t\t\tcase 1: // one-fingered touch: rotate\n\n\t\t\t\tif ( ! scope.enableRotate ) return;\n\t\t\t\tif ( state !== STATE.ROTATE ) return; // is this needed?\n\n\t\t\t\thandleMouseMoveRotate( event );\n\t\t\t\tbreak;\n\n\t\t\tcase 2: // two-fingered touch: dolly-pan\n\n\t\t\t\tif ( ! scope.enableZoom ) return;\n\t\t\t\tif ( state !== STATE.TOUCHZOOM ) return; // is this needed?\n\n\t\t\t\thandleTouchMoveDollyPan( event );\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t}\n\n\tfunction onTouchEnd( event ) {\n\t\t\n\t\tscope.dispatchEvent( endEvent );\n\t\tstate = STATE.NONE;\n\n\t}\n\n\t\n\tscope.earth.canvas.addEventListener( 'mousedown', onMouseDown, false );\n\tscope.earth.canvas.addEventListener( 'wheel', onMouseWheel, false );\n\n\tscope.earth.canvas.addEventListener( 'touchstart', onTouchStart, false );\n\tscope.earth.canvas.addEventListener( 'touchend', onTouchEnd, false );\n\tdocument.addEventListener( 'touchmove', onTouchMove, false );\n\n\t// force an update at start\n\tthis.update();\n\n};\n\nObject.assign( Earth.Orbit.prototype, Earth.ClassicEventDispatcher.prototype );\n\n\n\n/* MeshLine */\n// private\n// based on THREE.MeshLine\n\nEarth.MeshLine = function() {\n\n\tthis.positions = [];\n\n\tthis.previous = [];\n\tthis.next = [];\n\tthis.side = [];\n\tthis.width = [];\n\tthis.indices_array = [];\n\tthis.uvs = [];\n\tthis.counters = [];\n\tthis.geometry = new THREE.BufferGeometry();\n\n\tthis.widthCallback = null;\n\n};\n\nEarth.MeshLine.prototype.setGeometry = function( g, c ) {\n\n\tthis.widthCallback = c;\n\n\tthis.positions = [];\n\tthis.counters = [];\n\n\tif( g instanceof THREE.BufferGeometry ) {\n\t\tfor( var j = 0; j < g.vertices.length; j++ ) {\n\t\t\tvar v = g.vertices[ j ];\n\t\t\tvar c = j/g.vertices.length;\n\t\t\tthis.positions.push( v.x, v.y, v.z );\n\t\t\tthis.positions.push( v.x, v.y, v.z );\n\t\t\tthis.counters.push(c);\n\t\t\tthis.counters.push(c);\n\t\t}\n\t}\n\n\tif( g instanceof Float32Array || g instanceof Array ) {\n\t\tfor( var j = 0; j < g.length; j += 3 ) {\n\t\t\tvar c = j/g.length;\n\t\t\tthis.positions.push( g[ j ], g[ j + 1 ], g[ j + 2 ] );\n\t\t\tthis.positions.push( g[ j ], g[ j + 1 ], g[ j + 2 ] );\n\t\t\tthis.counters.push(c);\n\t\t\tthis.counters.push(c);\n\t\t}\n\t}\n\n\tthis.process();\n\n}\n\nEarth.MeshLine.prototype.compareV3 = function( a, b ) {\n\n\tvar aa = a * 6;\n\tvar ab = b * 6;\n\treturn ( this.positions[ aa ] === this.positions[ ab ] ) && ( this.positions[ aa + 1 ] === this.positions[ ab + 1 ] ) && ( this.positions[ aa + 2 ] === this.positions[ ab + 2 ] );\n\n}\n\nEarth.MeshLine.prototype.copyV3 = function( a ) {\n\n\tvar aa = a * 6;\n\treturn [ this.positions[ aa ], this.positions[ aa + 1 ], this.positions[ aa + 2 ] ];\n\n}\n\nEarth.MeshLine.prototype.process = function() {\n\n\tvar l = this.positions.length / 6;\n\n\tthis.previous = [];\n\tthis.next = [];\n\tthis.side = [];\n\tthis.width = [];\n\tthis.indices_array = [];\n\tthis.uvs = [];\n\n\tfor( var j = 0; j < l; j++ ) {\n\t\tthis.side.push( 1 );\n\t\tthis.side.push( -1 );\n\t}\n\n\tvar w;\n\tfor( var j = 0; j < l; j++ ) {\n\t\tif( this.widthCallback ) w = this.widthCallback( j / ( l -1 ) );\n\t\telse w = 1;\n\t\tthis.width.push( w );\n\t\tthis.width.push( w );\n\t}\n\n\tfor( var j = 0; j < l; j++ ) {\n\t\tthis.uvs.push( j / ( l - 1 ), 0 );\n\t\tthis.uvs.push( j / ( l - 1 ), 1 );\n\t}\n\n\tvar v;\n\n\tif( this.compareV3( 0, l - 1 ) ){\n\t\tv = this.copyV3( l - 2 );\n\t} else {\n\t\tv = this.copyV3( 0 );\n\t}\n\tthis.previous.push( v[ 0 ], v[ 1 ], v[ 2 ] );\n\tthis.previous.push( v[ 0 ], v[ 1 ], v[ 2 ] );\n\tfor( var j = 0; j < l - 1; j++ ) {\n\t\tv = this.copyV3( j );\n\t\tthis.previous.push( v[ 0 ], v[ 1 ], v[ 2 ] );\n\t\tthis.previous.push( v[ 0 ], v[ 1 ], v[ 2 ] );\n\t}\n\n\tfor( var j = 1; j < l; j++ ) {\n\t\tv = this.copyV3( j );\n\t\tthis.next.push( v[ 0 ], v[ 1 ], v[ 2 ] );\n\t\tthis.next.push( v[ 0 ], v[ 1 ], v[ 2 ] );\n\t}\n\n\tif( this.compareV3( l - 1, 0 ) ){\n\t\tv = this.copyV3( 1 );\n\t} else {\n\t\tv = this.copyV3( l - 1 );\n\t}\n\tthis.next.push( v[ 0 ], v[ 1 ], v[ 2 ] );\n\tthis.next.push( v[ 0 ], v[ 1 ], v[ 2 ] );\n\n\tfor( var j = 0; j < l - 1; j++ ) {\n\t\tvar n = j * 2;\n\t\tthis.indices_array.push( n, n + 1, n + 2 );\n\t\tthis.indices_array.push( n + 2, n + 1, n + 3 );\n\t}\n\n\t//if (! this.attributes) {\n\t\t\n\t\tthis.attributes = {\n\t\t\tposition: new THREE.BufferAttribute( new Float32Array( this.positions ), 3 ),\n\t\t\tprevious: new THREE.BufferAttribute( new Float32Array( this.previous ), 3 ),\n\t\t\tnext: new THREE.BufferAttribute( new Float32Array( this.next ), 3 ),\n\t\t\tside: new THREE.BufferAttribute( new Float32Array( this.side ), 1 ),\n\t\t\twidth: new THREE.BufferAttribute( new Float32Array( this.width ), 1 ),\n\t\t\tuv: new THREE.BufferAttribute( new Float32Array( this.uvs ), 2 ),\n\t\t\tindex: new THREE.BufferAttribute( new Uint16Array( this.indices_array ), 1 ),\n\t\t\tcounters: new THREE.BufferAttribute( new Float32Array( this.counters ), 1 )\n\t\t};\n\t\t\n\t\tthis.geometry.setAttribute( 'position', this.attributes.position );\n\t\tthis.geometry.setAttribute( 'previous', this.attributes.previous );\n\t\tthis.geometry.setAttribute( 'next', this.attributes.next );\n\t\tthis.geometry.setAttribute( 'side', this.attributes.side );\n\t\tthis.geometry.setAttribute( 'width', this.attributes.width );\n\t\tthis.geometry.setAttribute( 'uv', this.attributes.uv );\n\t\tthis.geometry.setIndex( this.attributes.index );\n\t\tthis.geometry.setAttribute( 'counters', this.attributes.counters );\n\t\t\n/*\t} else {\n\t\n\t\n\t\tthis.attributes.position.setArray( new Float32Array(this.positions) );\n\t\tthis.attributes.position.needsUpdate = true;\n\t\tthis.attributes.previous.setArray(new Float32Array(this.previous));\n\t\tthis.attributes.previous.needsUpdate = true;\n\t\tthis.attributes.next.setArray(new Float32Array(this.next));\n\t\tthis.attributes.next.needsUpdate = true;\n\t\tthis.attributes.side.setArray(new Float32Array(this.side));\n\t\tthis.attributes.side.needsUpdate = true;\n\t\tthis.attributes.width.setArray(new Float32Array(this.width));\n\t\tthis.attributes.width.needsUpdate = true;\n\t\tthis.attributes.uv.setArray(new Float32Array(this.uvs));\n\t\tthis.attributes.uv.needsUpdate = true;\n\t\tthis.attributes.index.setArray(new Uint16Array(this.indices_array));\n\t\tthis.attributes.index.needsUpdate = true;\n\t\tthis.attributes.counters.setArray(new Float32Array( this.counters ));\n\t\tthis.attributes.counters.needsUpdate = true;\n\n\n    }*/\n\n}\n\n \nEarth.MeshLineMat = function( parameters ) {\n\n\tvar vertexShaderSource = [\n'precision highp float;',\n'',\n'attribute vec3 position;',\n'attribute vec3 previous;',\n'attribute vec3 next;',\n'attribute float side;',\n'attribute float width;',\n'attribute vec2 uv;',\n'attribute float counters;',\n'',\n'uniform mat4 projectionMatrix;',\n'uniform mat4 modelViewMatrix;',\n'uniform vec2 resolution;',\n'uniform float lineWidth;',\n'uniform vec3 color;',\n'uniform float opacity;',\n'uniform float near;',\n'uniform float far;',\n'uniform float sizeAttenuation;',\n'',\n'varying vec2 vUV;',\n'varying vec4 vColor;',\n'varying float vCounters;',\n'',\n'vec2 fix( vec4 i, float aspect ) {',\n'',\n'    vec2 res = i.xy / i.w;',\n'    res.x *= aspect;',\n'\t vCounters = counters;',\n'    return res;',\n'',\n'}',\n'',\n'void main() {',\n'',\n'    float aspect = resolution.x / resolution.y;',\n'\t float pixelWidthRatio = 1. / (resolution.x * projectionMatrix[0][0]);',\n'',\n'    vColor = vec4( color, opacity );',\n'    vUV = uv;',\n'',\n'    mat4 m = projectionMatrix * modelViewMatrix;',\n'    vec4 finalPosition = m * vec4( position, 1.0 );',\n'    vec4 prevPos = m * vec4( previous, 1.0 );',\n'    vec4 nextPos = m * vec4( next, 1.0 );',\n'',\n'    vec2 currentP = fix( finalPosition, aspect );',\n'    vec2 prevP = fix( prevPos, aspect );',\n'    vec2 nextP = fix( nextPos, aspect );',\n'',\n'\t float pixelWidth = finalPosition.w * pixelWidthRatio;',\n'    float w = 1.8 * pixelWidth * lineWidth * width;',\n'',\n'    if( sizeAttenuation == 1. ) {',\n'        w = 1.8 * lineWidth * width;',\n'    }',\n'',\n'    vec2 dir;',\n'    if( nextP == currentP ) dir = normalize( currentP - prevP );',\n'    else if( prevP == currentP ) dir = normalize( nextP - currentP );',\n'    else {',\n'        vec2 dir1 = normalize( currentP - prevP );',\n'        vec2 dir2 = normalize( nextP - currentP );',\n'        dir = normalize( dir1 + dir2 );',\n'',\n'        vec2 perp = vec2( -dir1.y, dir1.x );',\n'        vec2 miter = vec2( -dir.y, dir.x );',\n'        //w = clamp( w / dot( miter, perp ), 0., 4. * lineWidth * width );',\n'',\n'    }',\n'',\n'    //vec2 normal = ( cross( vec3( dir, 0. ), vec3( 0., 0., 1. ) ) ).xy;',\n'    vec2 normal = vec2( -dir.y, dir.x );',\n'    normal.x /= aspect;',\n'    normal *= .5 * w;',\n'',\n'    vec4 offset = vec4( normal * side, 0.0, 1.0 );',\n'    finalPosition.xy += offset.xy;',\n'',\n'    gl_Position = finalPosition;',\n'',\n'}' ];\n\n\tvar fragmentShaderSource = [\n\t\t'#extension GL_OES_standard_derivatives : enable',\n'precision mediump float;',\n'',\n'uniform sampler2D map;',\n'uniform sampler2D alphaMap;',\n'uniform float useMap;',\n'uniform float useAlphaMap;',\n'uniform float useDash;',\n'uniform float dashArray;',\n'uniform float dashOffset;',\n'uniform float dashRatio;',\n'uniform float visibility;',\n'uniform float alphaTest;',\n'uniform vec2 repeat;',\n'',\n'varying vec2 vUV;',\n'varying vec4 vColor;',\n'varying float vCounters;',\n'',\n'void main() {',\n'',\n'    vec4 c = vColor;',\n'    if( useMap == 1. ) c *= texture2D( map, vUV * repeat );',\n'    if( useAlphaMap == 1. ) c.a *= texture2D( alphaMap, vUV * repeat ).a;',\n'    if( c.a < alphaTest ) discard;',\n'    if( useDash == 1. ){',\n'        c.a *= ceil(mod(vCounters + dashOffset, dashArray) - (dashArray * dashRatio));',\n'    }',\n'    gl_FragColor = c;',\n'    gl_FragColor.a *= step(vCounters, visibility);',\n'}' ];\n\n\tfunction check( v, d ) {\n\t\tif( v === undefined ) return d;\n\t\treturn v;\n\t}\n\n\t//THREE.Material.call( this );\n\t\n\tparameters = parameters || {};\n\n\tthis.lineWidth = check( parameters.lineWidth, 1 );\n\tthis.map = check( parameters.map, null );\n\tthis.useMap = check( parameters.useMap, 0 );\n\tthis.alphaMap = check( parameters.alphaMap, null );\n\tthis.useAlphaMap = check( parameters.useAlphaMap, 0 );\n\tthis.color = check( parameters.color, new THREE.Color( 0xffffff ) );\n\tthis.opacity = check( parameters.opacity, 1 );\n\tthis.resolution = check( parameters.resolution, new THREE.Vector2( 1, 1 ) );\n\tthis.sizeAttenuation = check( parameters.sizeAttenuation, 1 );\n\tthis.near = check( parameters.near, 1 );\n\tthis.far = check( parameters.far, 1 );\n\tthis.dashArray = check( parameters.dashArray, 0 );\n\tthis.dashOffset = check( parameters.dashOffset, 0 );\n\tthis.dashRatio = check( parameters.dashRatio, 0.5 );\n\tthis.useDash = ( this.dashArray !== 0 ) ? 1 : 0;\n\tthis.visibility = check( parameters.visibility, 1 );\n\tthis.alphaTest = check( parameters.alphaTest, 0 );\n\tthis.repeat = check( parameters.repeat, new THREE.Vector2( 1, 1 ) );\n\n\tvar material = new THREE.RawShaderMaterial( {\n\t\tuniforms:{\n\t\t\tlineWidth: { type: 'f', value: this.lineWidth },\n\t\t\tmap: { type: 't', value: this.map },\n\t\t\tuseMap: { type: 'f', value: this.useMap },\n\t\t\talphaMap: { type: 't', value: this.alphaMap },\n\t\t\tuseAlphaMap: { type: 'f', value: this.useAlphaMap },\n\t\t\tcolor: { type: 'c', value: this.color },\n\t\t\topacity: { type: 'f', value: this.opacity },\n\t\t\tresolution: { type: 'v2', value: this.resolution },\n\t\t\tsizeAttenuation: { type: 'f', value: this.sizeAttenuation },\n\t\t\tnear: { type: 'f', value: this.near },\n\t\t\tfar: { type: 'f', value: this.far },\n\t\t\tdashArray: { type: 'f', value: this.dashArray },\n\t\t\tdashOffset: { type: 'f', value: this.dashOffset },\n\t\t\tdashRatio: { type: 'f', value: this.dashRatio },\n\t\t\tuseDash: { type: 'f', value: this.useDash },\n\t\t\tvisibility: {type: 'f', value: this.visibility},\n\t\t\talphaTest: {type: 'f', value: this.alphaTest},\n\t\t\trepeat: { type: 'v2', value: this.repeat }\n\t\t},\n\t\tvertexShader: vertexShaderSource.join( '\\r\\n' ),\n\t\tfragmentShader: fragmentShaderSource.join( '\\r\\n' )\n\t});\n\n\tmaterial.type = 'MeshLineMaterial';\n\n\tmaterial.setValues( parameters );\n\n\treturn material;\n\n};\n\nEarth.MeshLineMat.prototype = Object.create( THREE.Material.prototype );\nEarth.MeshLineMat.prototype.constructor = Earth.MeshLineMat;\n\n\n\n/* ObjParser */\n// private\n// based on THREE.OBJLoader\n\nEarth.ObjParser = ( function () {\n\n\t// o object_name | g group_name\n\tvar object_pattern = /^[og]\\s*(.+)?/;\n\n\tfunction ParserState() {\n\n\t\tvar state = {\n\t\t\tobjects: [],\n\t\t\tobject: {},\n\n\t\t\tvertices: [],\n\t\t\tnormals: [],\n\n\t\t\tstartObject: function ( name, fromDeclaration ) {\n\n\t\t\t\tif ( this.object && this.object.fromDeclaration === false ) {\n\t\t\t\t\tthis.object.name = name;\n\t\t\t\t\tthis.object.fromDeclaration = ( fromDeclaration !== false );\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar previousMaterial = ( this.object && typeof this.object.currentMaterial === 'function' ? this.object.currentMaterial() : undefined );\n\n\t\t\t\tif ( this.object && typeof this.object._finalize === 'function' ) {\n\t\t\t\t\tthis.object._finalize( true );\n\t\t\t\t}\n\n\t\t\t\tthis.object = {\n\t\t\t\t\tname: name || '',\n\t\t\t\t\tfromDeclaration: ( fromDeclaration !== false ),\n\n\t\t\t\t\tgeometry: {\n\t\t\t\t\t\tvertices: [],\n\t\t\t\t\t\tnormals: []\n\t\t\t\t\t},\n\t\t\t\t\tmaterials: [],\n\t\t\t\t\tsmooth: true,\n\n\t\t\t\t\tcurrentMaterial: function () {\n\t\t\t\t\t\tif ( this.materials.length > 0 ) {\n\t\t\t\t\t\t\treturn this.materials[ this.materials.length - 1 ];\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t},\n\n\t\t\t\t\t_finalize: function ( end ) {\n\n\t\t\t\t\t\tvar lastMultiMaterial = this.currentMaterial();\n\t\t\t\t\t\tif ( lastMultiMaterial && lastMultiMaterial.groupEnd === - 1 ) {\n\n\t\t\t\t\t\t\tlastMultiMaterial.groupEnd = this.geometry.vertices.length / 3;\n\t\t\t\t\t\t\tlastMultiMaterial.groupCount = lastMultiMaterial.groupEnd - lastMultiMaterial.groupStart;\n\t\t\t\t\t\t\tlastMultiMaterial.inherited = false;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Ignore objects tail materials if no face declarations followed them before a new o/g started.\n\t\t\t\t\t\tif ( end && this.materials.length > 1 ) {\n\t\t\t\t\t\t\tfor ( var mi = this.materials.length - 1; mi >= 0; mi -- ) {\n\t\t\t\t\t\t\t\tif ( this.materials[ mi ].groupCount <= 0 ) {\n\t\t\t\t\t\t\t\t\tthis.materials.splice( mi, 1 );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Guarantee at least one empty material, this makes the creation later more straight forward.\n\t\t\t\t\t\tif ( end && this.materials.length === 0 ) {\n\t\t\t\t\t\t\tthis.materials.push( {\n\t\t\t\t\t\t\t\tname: '',\n\t\t\t\t\t\t\t\tsmooth: this.smooth\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn lastMultiMaterial;\n\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\t// Inherit previous objects material.\n\t\t\t\tif ( previousMaterial && previousMaterial.name && typeof previousMaterial.clone === 'function' ) {\n\t\t\t\t\tvar declared = previousMaterial.clone( 0 );\n\t\t\t\t\tdeclared.inherited = true;\n\t\t\t\t\tthis.object.materials.push( declared );\n\t\t\t\t}\n\n\t\t\t\tthis.objects.push( this.object );\n\n\t\t\t},\n\n\t\t\tfinalize: function () {\n\t\t\t\tif ( this.object && typeof this.object._finalize === 'function' ) {\n\t\t\t\t\tthis.object._finalize( true );\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tparseVertexIndex: function ( value, len ) {\n\t\t\t\tvar index = parseInt( value, 10 );\n\t\t\t\treturn ( index >= 0 ? index - 1 : index + len / 3 ) * 3;\n\t\t\t},\n\n\t\t\tparseNormalIndex: function ( value, len ) {\n\t\t\t\tvar index = parseInt( value, 10 );\n\t\t\t\treturn ( index >= 0 ? index - 1 : index + len / 3 ) * 3;\n\t\t\t},\n\n\t\t\taddVertex: function ( a, b, c ) {\n\t\t\t\tvar src = this.vertices;\n\t\t\t\tvar dst = this.object.geometry.vertices;\n\n\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\n\t\t\t\tdst.push( src[ b + 0 ], src[ b + 1 ], src[ b + 2 ] );\n\t\t\t\tdst.push( src[ c + 0 ], src[ c + 1 ], src[ c + 2 ] );\n\t\t\t},\n\n\t\t\taddNormal: function ( a, b, c ) {\n\t\t\t\tvar src = this.normals;\n\t\t\t\tvar dst = this.object.geometry.normals;\n\t\t\t\t\n\t\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\n\t\t\t\tdst.push( src[ b + 0 ], src[ b + 1 ], src[ b + 2 ] );\n\t\t\t\tdst.push( src[ c + 0 ], src[ c + 1 ], src[ c + 2 ] );\n\t\t\t},\n\n\t\t\taddFace: function ( a, b, c, ua, ub, uc, na, nb, nc ) {\n\t\t\t\tvar vLen = this.vertices.length;\n\n\t\t\t\tvar ia = this.parseVertexIndex( a, vLen );\n\t\t\t\tvar ib = this.parseVertexIndex( b, vLen );\n\t\t\t\tvar ic = this.parseVertexIndex( c, vLen );\n\n\t\t\t\tthis.addVertex( ia, ib, ic );\n\n\n\t\t\t\tif ( na !== undefined && na !== '' ) {\n\n\t\t\t\t\t// Normals are many times the same. If so, skip function call and parseInt.\n\t\t\t\t\tvar nLen = this.normals.length;\n\t\t\t\t\tia = this.parseNormalIndex( na, nLen );\n\n\t\t\t\t\tib = na === nb ? ia : this.parseNormalIndex( nb, nLen );\n\t\t\t\t\tic = na === nc ? ia : this.parseNormalIndex( nc, nLen );\n\n\t\t\t\t\tthis.addNormal( ia, ib, ic );\n\n\t\t\t\t}\n\t\t\t},\n\n\t\t};\n\n\t\tstate.startObject( '', false );\n\n\t\treturn state;\n\n\t}\n\n\n\n\tfunction OBJLoader( manager ) {\n\t\t\n\t\tthis.manager = ( manager !== undefined ) ? manager : THREE.DefaultLoadingManager;\n\t\tthis.materials = null;\n\t\t\n\t}\n\n\tOBJLoader.prototype = {\n\n\t\tconstructor: OBJLoader,\n\n\t\tparse: function ( text ) {\n\n\t\t\tvar state = new ParserState();\n\n\t\t\tif ( text.indexOf( '\\r\\n' ) !== - 1 ) {\n\t\t\t\t// This is faster than String.split with regex that splits on both\n\t\t\t\ttext = text.replace( /\\r\\n/g, '\\n' );\n\t\t\t}\n\n\t\t\tif ( text.indexOf( '\\\\\\n' ) !== - 1 ) {\n\t\t\t\t// join lines separated by a line continuation character (\\)\n\t\t\t\ttext = text.replace( /\\\\\\n/g, '' );\n\t\t\t}\n\n\t\t\tvar lines = text.split( '\\n' );\n\t\t\tvar line = '', lineFirstChar = '';\n\t\t\tvar lineLength = 0;\n\t\t\tvar result = [];\n\n\t\t\t// Faster to just trim left side of the line. Use if available.\n\t\t\tvar trimLeft = ( typeof ''.trimLeft === 'function' );\n\n\t\t\tfor ( var i = 0, l = lines.length; i < l; i ++ ) {\n\n\t\t\t\tline = lines[ i ];\n\t\t\t\tline = trimLeft ? line.trimLeft() : line.trim();\n\t\t\t\tlineLength = line.length;\n\n\t\t\t\tif ( lineLength === 0 ) continue;\n\n\t\t\t\tlineFirstChar = line.charAt( 0 );\n\n\t\t\t\t// @todo invoke passed in handler if any\n\t\t\t\tif ( lineFirstChar === '#' ) continue;\n\n\t\t\t\tif ( lineFirstChar === 'v' ) {\n\n\t\t\t\t\tvar data = line.split( /\\s+/ );\n\n\t\t\t\t\tswitch ( data[ 0 ] ) {\n\n\t\t\t\t\t\tcase 'v':\n\t\t\t\t\t\t\tstate.vertices.push(\n\t\t\t\t\t\t\t\tparseFloat( data[ 1 ] ),\n\t\t\t\t\t\t\t\tparseFloat( data[ 2 ] ),\n\t\t\t\t\t\t\t\tparseFloat( data[ 3 ] )\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\tcase 'vn':\n\t\t\t\t\t\t\tstate.normals.push(\n\t\t\t\t\t\t\t\tparseFloat( data[ 1 ] ),\n\t\t\t\t\t\t\t\tparseFloat( data[ 2 ] ),\n\t\t\t\t\t\t\t\tparseFloat( data[ 3 ] )\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( lineFirstChar === 'f' ) {\n\n\t\t\t\t\tvar lineData = line.substr( 1 ).trim();\n\t\t\t\t\tvar vertexData = lineData.split( /\\s+/ );\n\t\t\t\t\tvar faceVertices = [];\n\n\t\t\t\t\t// Parse the face vertex data into an easy to work with format\n\n\t\t\t\t\tfor ( var j = 0, jl = vertexData.length; j < jl; j ++ ) {\n\t\t\t\t\t\tvar vertex = vertexData[ j ];\n\n\t\t\t\t\t\tif ( vertex.length > 0 ) {\n\t\t\t\t\t\t\tvar vertexParts = vertex.split( '/' );\n\t\t\t\t\t\t\tfaceVertices.push( vertexParts );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Draw an edge between the first vertex and all subsequent vertices to form an n-gon\n\n\t\t\t\t\tvar v1 = faceVertices[ 0 ];\n\n\t\t\t\t\tfor ( var j = 1, jl = faceVertices.length - 1; j < jl; j ++ ) {\n\t\t\t\t\t\tvar v2 = faceVertices[ j ];\n\t\t\t\t\t\tvar v3 = faceVertices[ j + 1 ];\n\n\t\t\t\t\t\tstate.addFace(\n\t\t\t\t\t\t\tv1[ 0 ], v2[ 0 ], v3[ 0 ],\n\t\t\t\t\t\t\tv1[ 1 ], v2[ 1 ], v3[ 1 ],\n\t\t\t\t\t\t\tv1[ 2 ], v2[ 2 ], v3[ 2 ]\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( ( result = object_pattern.exec( line ) ) !== null ) {\n\n\t\t\t\t\t// o object_name or g group_name\n\t\t\t\t\tvar name = ( \" \" + result[ 0 ].substr( 1 ).trim() ).substr( 1 );\n\t\t\t\t\tstate.startObject( name );\n\n\n\t\t\t\t} else if ( lineFirstChar === 's' ) {\n\n\t\t\t\t\tresult = line.split( ' ' );\n\n\t\t\t\t\t// smooth shading\n\t\t\t\t\tif ( result.length > 1 ) {\n\t\t\t\t\t\tvar value = result[ 1 ].trim().toLowerCase();\n\t\t\t\t\t\tstate.object.smooth = ( value !== '0' && value !== 'off' );\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstate.object.smooth = true;\n\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tvar material = state.object.currentMaterial();\n\t\t\t\t\tif ( material ) material.smooth = state.object.smooth;\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// Handle null terminated files\n\t\t\t\t\tif ( line === '\\0' ) continue;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tstate.finalize();\n\n\t\t\tvar container = new THREE.Group();\n\n\t\t\tfor ( var i = 0, l = state.objects.length; i < l; i ++ ) {\n\n\t\t\t\tvar object = state.objects[ i ];\n\t\t\t\tvar geometry = object.geometry;\n\n\t\t\t\t// Skip o/g line declarations that did not follow with any faces\n\t\t\t\tif ( geometry.vertices.length === 0 ) continue;\n\n\t\t\t\tvar buffergeometry = new THREE.BufferGeometry();\n\n\t\t\t\tbuffergeometry.setAttribute( 'position', new THREE.Float32BufferAttribute( geometry.vertices, 3 ) );\n\n\t\t\t\tif ( geometry.normals.length > 0 ) {\n\t\t\t\t\tbuffergeometry.setAttribute( 'normal', new THREE.Float32BufferAttribute( geometry.normals, 3 ) );\n\t\t\t\t} else {\n\t\t\t\t\tbuffergeometry.computeVertexNormals();\n\t\t\t\t}\n\n\n\t\t\t\t// Create mesh\n\n\t\t\t\tvar mesh = new THREE.Mesh( buffergeometry );\n\t\t\t\tmesh.name = object.name;\n\t\t\t\tcontainer.add( mesh );\n\n\t\t\t}\n\n\t\t\treturn container;\n\n\t\t}\n\n\t};\n\n\treturn OBJLoader;\n\n} )();\n\n\n\n\n\n/* Earth INIT */\n\nif ( document.readyState == 'loading' ) { // page is still loading\n\t\n\tdocument.addEventListener( \"DOMContentLoaded\", function() {\n\t\tEarth.dispatchLoadEvent();\n\t} );\n\t\n} else { // async load\n\t\n\tsetTimeout( function(){\n\t\tEarth.dispatchLoadEvent();\n\t}, 1 );\n\t\n}\n    window.addEventListener( \"earthjsload\", function() {\n        // Earth();\n        // THREE();\n        /* setup earth */\n        var myearth;\n        var sprites = [];\n        window.addEventListener( 'load', function() {\n    \n            myearth = new Earth( 'myearth', {\n            \n                location : { lat: 20, lng : 20 },\n            \n                light: 'none',\n        \n                mapImage: earh_svg,\n                transparent: true,\n                \n                autoRotate : true,\n                autoRotateSpeed: 1.2,\n                autoRotateDelay: 100,\n                autoRotateStart: 2000,\t\t\t\n                \n            } );\n            \n            \n            myearth.addEventListener( \"ready\", function() {\n        \n                this.startAutoRotate();\n        \n                // connections\n                \n                var line = {\n                    color : '#009CFF',\n                    opacity: 0.35,\n                    hairline: true,\n                    offset: -0.5\n                };\n                \n                for ( var i in connections ) {\t\t\t\n                    line.locations = [ { lat: connections[i][0], lng: connections[i][1] }, { lat: connections[i][2], lng: connections[i][3] } ];\n                    this.addLine( line );\n                }\n                \n                \n                \n                // add 8 shine sprites\n                \n                for ( var i=0; i < 8; i++ ) {\n                    sprites[i] = this.addSprite( {\n                        image: shine_svg,\n                        scale: 0.01,\n                        offset: -0.5,\n                        opacity: 0.5\n                    } );\n                    pulse( i );\n                }\n                \n                \n            } );\n            \n            \n        } );\n        \n        \n        function getRandomInt(min, max) {\n            min = Math.ceil(min);\n            max = Math.floor(max);\n            return Math.floor(Math.random() * (max - min)) + min;\n        }\n        \n        \n        function pulse( index ) {\n            var random_location = connections[ getRandomInt(0, connections.length-1) ];\n            sprites[index].location = { lat: random_location[0] , lng: random_location[1] };\n            \n            sprites[index].animate( 'scale', 0.5, { duration: 320, complete : function(){\n                this.animate( 'scale', 0.01, { duration: 320, complete : function(){\n                    setTimeout( function(){ pulse( index ); }, getRandomInt(100, 400) );\n                } });\n            } });\n        }\n        \n        \n        \n        // locations conntected by lines and places where hologram shines appear\n        \n        var connections = [\n            [59.651901245117,17.918600082397,\t41.8002778,12.2388889],\n            [59.651901245117,17.918600082397,\t51.4706,-0.461941],\n            \n            [13.681099891662598,100.74700164794922,\t-6.1255698204,106.65599823],\n            [13.681099891662598,100.74700164794922,\t28.566499710083008,77.10310363769531],\n            \n            [30.12190055847168,31.40559959411621, -1.31923997402,36.9277992249],\n            [30.12190055847168,31.40559959411621, 25.2527999878,55.3643989563],\n            [30.12190055847168,31.40559959411621, 41.8002778,12.2388889],\n        \n            [28.566499710083008,77.10310363769531,\t7.180759906768799,79.88410186767578],\n            [28.566499710083008,77.10310363769531,\t40.080101013183594,116.58499908447266],\n            [28.566499710083008,77.10310363769531,\t25.2527999878,55.3643989563],\n        \n            [-33.9648017883,18.6016998291, -1.31923997402,36.9277992249],\n            \n            [-1.31923997402,36.9277992249, 25.2527999878,55.3643989563],\n            \n            [41.8002778,12.2388889, 51.4706,-0.461941],\n            [41.8002778,12.2388889, 40.471926,-3.56264],\n        \n            [19.4363,-99.072098,\t25.79319953918457,-80.29060363769531],\n            [19.4363,-99.072098,\t33.94250107,-118.4079971],\n            [19.4363,-99.072098,\t-12.0219,-77.114304],\n            \n            [-12.0219,-77.114304,\t-33.393001556396484,-70.78579711914062],\n            [-12.0219,-77.114304, -34.8222,-58.5358],\n            [-12.0219,-77.114304, -22.910499572799996,-43.1631011963],\n            \n            [-34.8222,-58.5358, -33.393001556396484,-70.78579711914062],\n            [-34.8222,-58.5358, -22.910499572799996,-43.1631011963],\n            \n            [22.3089008331,113.915000916, 13.681099891662598,100.74700164794922],\n            [22.3089008331,113.915000916, 40.080101013183594,116.58499908447266],\n            [22.3089008331,113.915000916, 31.143400192260742,121.80500030517578],\n            \n            [35.552299,139.779999, 40.080101013183594,116.58499908447266],\n            [35.552299,139.779999, 31.143400192260742,121.80500030517578],\n            \n            [33.94250107,-118.4079971,\t40.63980103,-73.77890015],\n            [33.94250107,-118.4079971,\t25.79319953918457,-80.29060363769531],\n            [33.94250107,-118.4079971,\t49.193901062,-123.183998108],\n            \n            [40.63980103,-73.77890015, 25.79319953918457,-80.29060363769531],\n            [40.63980103,-73.77890015, 51.4706,-0.461941],\n            \n            [51.4706,-0.461941, 40.471926,-3.56264],\n            \n            [40.080101013183594,116.58499908447266,\t31.143400192260742,121.80500030517578],\n            \n            [-33.94609832763672,151.177001953125,\t-41.3272018433,174.804992676],\n            [-33.94609832763672,151.177001953125,\t-6.1255698204,106.65599823],\n            \n            [55.5914993286,37.2615013123, 59.651901245117,17.918600082397],\n            [55.5914993286,37.2615013123, 41.8002778,12.2388889],\n            [55.5914993286,37.2615013123, 40.080101013183594,116.58499908447266],\n            [55.5914993286,37.2615013123, 25.2527999878,55.3643989563],\n        ];\n        \n    } );\n};\n\n\n\t","import useImportScript from \"../../hooks/useImportScript\";\nimport './earthStyle.scss';\nimport { startEarth } from \"../../assets/js/components/startEarth\";\nconst EarthBlock =() =>{\n    // useImportScript('/miniature.earth.js');\n    // useImportScript('/miniature.earth.core.js');\n    // useImportScript('/three.min.js');\n\n    startEarth();\n\n    return(\n        <>\n            <div id=\"myearth\"></div>\n        </>\n    )\n};\nexport default EarthBlock;","import { useState } from \"react\";\nimport AppHeader from '../appHeader/AppHeader';\nimport './mainPage.scss';\nimport TypeText from \"./typeText/TypeText\";\nimport ErrorBoundary from \"../errorBoundary/ErrorBoundary\";\nimport Button from '@mui/material/Button';\n\nimport EarthBlock from \"../earth/EarthBlock\";\n\n\n\n\nconst MainPage = () => {\n    \n    return (\n        <>\n            <div className=\"globusBlock\">\n                <TypeText/>\n                <ErrorBoundary>\n                    <EarthBlock/>\n                </ErrorBoundary>\n            </div>\n\n            <div className=\"wrapper\">\n                <div className=\"quote\">\n                    <Button  href='mailto:vp@skycitytrucking.com' variant=\"contained\" color=\"success\">\n                        Contact us for a Quote.\n                    </Button>\n                </div>\n\n                <div className=\"info\">\n                    <p>Sky City Trucking - Warehouse in Fife/Tacoma 30,000 SQ (200+ transloads per week) Consistent & Reliable.  Sky City Trucking Provides Import/Export Drayage of Legal & Overweight for all container/trailer sizes: 20', 40', 45' & 53'. </p>\n                    <p>Our focus: Safety, Quality of Service & Customer Satisfaction. </p>\n                    <p>Always providing competitive rates & offering Great Contract pricing for dedicated volumes. Serving the Entire United States, With our OTR trucks Northwest being our Primary lanes.</p>\n                    <p>We also offer Warehousing, Transloading, Cross-docking, storage, box truck with lift gate delivery & alot more! Over 40 OTR Trucks all over USA and Alaska. Contact us for a Quote.</p>\n                </div>\n             \n            </div>\n       \n        </>\n    )\n}\n\nexport default MainPage;","import ErrorMessage from \"../errorMessage/ErrorMessage\";\nimport {Link} from 'react-router-dom';\n\nconst Page404 = () => {\n    return (\n        <div>\n            <ErrorMessage/>\n            <p style={{'textAlign': 'center', 'fontWeight': 'bold', 'fontSize': '24px'}}>Page doesn't exist</p>\n            <Link style={{'display': 'block', 'textAlign': 'center', 'fontWeight': 'bold', 'fontSize': '24px', 'marginTop': '30px'}} to=\"/\">Back to main page</Link>\n        </div>\n    )\n}\n\nexport default Page404;","import MainPage from '../pages/MainPage';\nimport Page404 from '../pages/404';\nimport AppHeader from '../appHeader/AppHeader';\nimport {BrowserRouter as Router, Route, Routes} from 'react-router-dom';\n\n\n\nconst App = () => {\n    \n    return (\n        <Router>\n            <div className=\"app\">\n                {/* <AppHeader/> */}\n                <main>\n                    <Routes>\n                        <Route path=\"/\" element={<MainPage/>}/>\n                        <Route path=\"*\" element={<Page404/>}/>\n                    </Routes>\n                </main>\n            </div>\n        </Router>\n    )\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/app/App';\n\nimport '../src/assets/css/style.scss';\n\n\n\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}